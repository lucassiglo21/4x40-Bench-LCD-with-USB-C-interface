MP2COD 4.02, COFF to COD File Converter
Copyright (c) 2006 Microchip Technology Inc.
Listing File Generated: Mon Sep 18 22:19:00 2006


Address  Value    Disassembly              Source                                                                           File
-------  -------  -----------------------  -------------------------------------------------------------------------------  -----
                                           /* $Id: c018i.c,v 1.3.14.1 2006/01/24 14:50:12 rhinec Exp $ */                   C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* Copyright (c)1999 Microchip Technology */                                     C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 startup code, including initialized data */                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* external reference to the user's main routine */                              C:\MCC18\src\traditional\startup\c018i.c
                                           extern void main (void);                                                         C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the startup function */                                         C:\MCC18\src\traditional\startup\c018i.c
                                           void _entry (void);                                                              C:\MCC18\src\traditional\startup\c018i.c
                                           void _startup (void);                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* prototype for the initialized data setup */                                   C:\MCC18\src\traditional\startup\c018i.c
                                           void _do_cinit (void);                                                           C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           extern volatile near unsigned long short TBLPTR;                                 C:\MCC18\src\traditional\startup\c018i.c
                                           extern near unsigned FSR0;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           extern near char __FPFLAGS;                                                      C:\MCC18\src\traditional\startup\c018i.c
                                           #define RND 6                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _entry_scn=0x000000                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _entry (void)                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
000000   efa8     GOTO      0x1150         _asm goto _startup _endasm                                                       C:\MCC18\src\traditional\startup\c018i.c
000002   f008                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
000004   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _startup_scn                                                        C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _startup (void)                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
                                               // Initialize the stack pointer                                              C:\MCC18\src\traditional\startup\c018i.c
001150   ee13     LFSR      0x1,0x300          lfsr 1, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
001152   f000                                                                                                               
001154   ee23     LFSR      0x2,0x300          lfsr 2, _stack                                                               C:\MCC18\src\traditional\startup\c018i.c
001156   f000                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
001158   6af8     CLRF      0xf8,0x0           clrf TBLPTRU, 0 // 1st silicon doesn't do this on POR                        C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
00115a   9c01     BCF       0x1,0x6,0x0        bcf __FPFLAGS,RND,0 // Initialize rounding flag for floating point libs      C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
00115c   ec42     CALL      0x1084,0x0         _do_cinit ();                                                                C:\MCC18\src\traditional\startup\c018i.c
00115e   f008                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           loop:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Call the user's main routine                                                C:\MCC18\src\traditional\startup\c018i.c
001160   ec91     CALL      0x1122,0x0       main ();                                                                       C:\MCC18\src\traditional\startup\c018i.c
001162   f008                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
001164   d7fd     BRA       0x1160           goto loop;                                                                     C:\MCC18\src\traditional\startup\c018i.c
001166   0012     RETURN    0x0            }                               /* end _startup() */                             C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           /* MPLAB-C18 initialized data memory support */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           /* The linker will populate the _cinit table */                                  C:\MCC18\src\traditional\startup\c018i.c
                                           extern far rom struct                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             unsigned short num_init;                                                       C:\MCC18\src\traditional\startup\c018i.c
                                             struct _init_entry                                                             C:\MCC18\src\traditional\startup\c018i.c
                                             {                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long from;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long to;                                                            C:\MCC18\src\traditional\startup\c018i.c
                                               unsigned long size;                                                          C:\MCC18\src\traditional\startup\c018i.c
                                             }                                                                              C:\MCC18\src\traditional\startup\c018i.c
                                             entries[];                                                                     C:\MCC18\src\traditional\startup\c018i.c
                                           }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           _cinit;                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           #pragma code _cinit_scn                                                          C:\MCC18\src\traditional\startup\c018i.c
                                           void                                                                             C:\MCC18\src\traditional\startup\c018i.c
                                           _do_cinit (void)                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           {                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                             /* we'll make the assumption in the following code that these statics          C:\MCC18\src\traditional\startup\c018i.c
                                              * will be allocated into the same bank.                                       C:\MCC18\src\traditional\startup\c018i.c
                                              */                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             static short long prom;                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_byte;                                               C:\MCC18\src\traditional\startup\c018i.c
                                             static unsigned short curr_entry;                                              C:\MCC18\src\traditional\startup\c018i.c
                                             static short long data_ptr;                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                             // Initialized data...                                                         C:\MCC18\src\traditional\startup\c018i.c
001084   0e2a     MOVLW     0x2a             TBLPTR = (short long)&_cinit;                                                  C:\MCC18\src\traditional\startup\c018i.c
001086   6ef6     MOVWF     0xf6,0x0                                                                                        
001088   0e00     MOVLW     0x0                                                                                             
00108a   6ef7     MOVWF     0xf7,0x0                                                                                        
00108c   0e00     MOVLW     0x0                                                                                             
00108e   6ef8     MOVWF     0xf8,0x0                                                                                        
                                             _asm                                                                           C:\MCC18\src\traditional\startup\c018i.c
001090   0101     MOVLB     0x1                movlb data_ptr                                                               C:\MCC18\src\traditional\startup\c018i.c
001092   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
001094   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
001096   6f20     MOVWF     0x20,0x1           movwf curr_entry, 1                                                          C:\MCC18\src\traditional\startup\c018i.c
001098   0009     TBLRDPOSTINC                 tblrdpostinc                                                                 C:\MCC18\src\traditional\startup\c018i.c
00109a   50f5     MOVF      0xf5,0x0,0x0       movf TABLAT, 0, 0                                                            C:\MCC18\src\traditional\startup\c018i.c
00109c   6f21     MOVWF     0x21,0x1           movwf curr_entry+1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
                                             _endasm                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               //while (curr_entry)                                                         C:\MCC18\src\traditional\startup\c018i.c
                                               //{                                                                          C:\MCC18\src\traditional\startup\c018i.c
                                               test:                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _asm                                                                         C:\MCC18\src\traditional\startup\c018i.c
00109e   e103     BNZ       0x10a6              bnz 3                                                                       C:\MCC18\src\traditional\startup\c018i.c
0010a0   6720     TSTFSZ    0x20,0x1           tstfsz curr_entry, 1                                                         C:\MCC18\src\traditional\startup\c018i.c
0010a2   d001     BRA       0x10a6             bra 1                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                               _endasm                                                                      C:\MCC18\src\traditional\startup\c018i.c
0010a4   d03d     BRA       0x1120             goto done;                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 /* Count down so we only have to look up the data in _cinit                C:\MCC18\src\traditional\startup\c018i.c
                                                  * once.                                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                  *                                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                  * At this point we know that TBLPTR points to the top of the current      C:\MCC18\src\traditional\startup\c018i.c
                                                  * entry in _cinit, so we can just start reading the from, to, and         C:\MCC18\src\traditional\startup\c018i.c
                                                  * size values.                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the source address */                                                   C:\MCC18\src\traditional\startup\c018i.c
0010a6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010a8   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010aa   6f1b     MOVWF     0x1b,0x1       	movwf prom, 1                                                                   C:\MCC18\src\traditional\startup\c018i.c
0010ac   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010ae   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010b0   6f1c     MOVWF     0x1c,0x1       	movwf prom+1, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
0010b2   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010b4   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010b6   6f1d     MOVWF     0x1d,0x1       	movwf prom+2, 1                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip a byte since it's stored as a 32bit int */                              C:\MCC18\src\traditional\startup\c018i.c
0010b8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
0010ba   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010bc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010be   6ee9     MOVWF     0xe9,0x0       	movwf FSR0L, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
0010c0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010c2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010c4   6eea     MOVWF     0xea,0x0       	movwf FSR0H, 0                                                                  C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
0010c6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010c8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                           	/* read the destination address directly into FSR0 */                           C:\MCC18\src\traditional\startup\c018i.c
0010ca   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010cc   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010ce   6f1e     MOVWF     0x1e,0x1       	movwf curr_byte, 1                                                              C:\MCC18\src\traditional\startup\c018i.c
0010d0   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010d2   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
0010d4   6f1f     MOVWF     0x1f,0x1       	movwf curr_byte+1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	/* skip two bytes since it's stored as a 32bit int */                           C:\MCC18\src\traditional\startup\c018i.c
0010d6   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010d8   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 //prom = data_ptr->from;                                                   C:\MCC18\src\traditional\startup\c018i.c
                                                 //FSR0 = data_ptr->to;                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 //curr_byte = (unsigned short) data_ptr->size;                             C:\MCC18\src\traditional\startup\c018i.c
                                                 /* the table pointer now points to the next entry. Save it                 C:\MCC18\src\traditional\startup\c018i.c
                                                  * off since we'll be using the table pointer to do the copying            C:\MCC18\src\traditional\startup\c018i.c
                                                  * for the entry.                                                          C:\MCC18\src\traditional\startup\c018i.c
                                                  */                                                                        C:\MCC18\src\traditional\startup\c018i.c
0010da   cff6     MOVFF     0xff6,0x122          data_ptr = TBLPTR;                                                         C:\MCC18\src\traditional\startup\c018i.c
0010dc   f122                                                                                                               
0010de   cff7     MOVFF     0xff7,0x123                                                                                     
0010e0   f123                                                                                                               
0010e2   cff8     MOVFF     0xff8,0x124                                                                                     
0010e4   f124                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* now assign the source address to the table pointer */                   C:\MCC18\src\traditional\startup\c018i.c
0010e6   c11b     MOVFF     0x11b,0xff6          TBLPTR = prom;                                                             C:\MCC18\src\traditional\startup\c018i.c
0010e8   fff6                                                                                                               
0010ea   c11c     MOVFF     0x11c,0xff7                                                                                     
0010ec   fff7                                                                                                               
0010ee   c11d     MOVFF     0x11d,0xff8                                                                                     
0010f0   fff8                                                                                                               
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 /* do the copy loop */                                                     C:\MCC18\src\traditional\startup\c018i.c
                                                 _asm                                                                       C:\MCC18\src\traditional\startup\c018i.c
                                                   // determine if we have any more bytes to copy                           C:\MCC18\src\traditional\startup\c018i.c
0010f2   0101     MOVLB     0x1            	movlb curr_byte                                                                 C:\MCC18\src\traditional\startup\c018i.c
0010f4   531e     MOVF      0x1e,0x1,0x1   	movf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_loop:                                                                       C:\MCC18\src\traditional\startup\c018i.c
0010f6   e102     BNZ       0x10fc         	bnz 2 // copy_one_byte                                                          C:\MCC18\src\traditional\startup\c018i.c
0010f8   531f     MOVF      0x1f,0x1,0x1   	movf curr_byte + 1, 1, 1                                                        C:\MCC18\src\traditional\startup\c018i.c
0010fa   e007     BZ        0x110a         	bz 7 // done_copying                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           copy_one_byte:                                                                   C:\MCC18\src\traditional\startup\c018i.c
0010fc   0009     TBLRDPOSTINC             	tblrdpostinc                                                                    C:\MCC18\src\traditional\startup\c018i.c
0010fe   50f5     MOVF      0xf5,0x0,0x0   	movf TABLAT, 0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
001100   6eee     MOVWF     0xee,0x0       	movwf POSTINC0, 0                                                               C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           	// decrement byte counter                                                       C:\MCC18\src\traditional\startup\c018i.c
001102   071e     DECF      0x1e,0x1,0x1   	decf curr_byte, 1, 1                                                            C:\MCC18\src\traditional\startup\c018i.c
001104   e2f8     BC        0x10f6         	bc -8 // copy_loop                                                              C:\MCC18\src\traditional\startup\c018i.c
001106   071f     DECF      0x1f,0x1,0x1           decf curr_byte + 1, 1, 1                                                 C:\MCC18\src\traditional\startup\c018i.c
001108   d7f9     BRA       0x10fc         	bra -7 // copy_one_byte                                                         C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           done_copying:                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                                 _endasm                                                                    C:\MCC18\src\traditional\startup\c018i.c
                                                 /* restore the table pointer for the next entry */                         C:\MCC18\src\traditional\startup\c018i.c
00110a   c122     MOVFF     0x122,0xff6          TBLPTR = data_ptr;                                                         C:\MCC18\src\traditional\startup\c018i.c
00110c   fff6                                                                                                               
00110e   c123     MOVFF     0x123,0xff7                                                                                     
001110   fff7                                                                                                               
001112   c124     MOVFF     0x124,0xff8                                                                                     
001114   fff8                                                                                                               
                                                 /* next entry... */                                                        C:\MCC18\src\traditional\startup\c018i.c
001116   0101     MOVLB     0x1                  curr_entry--;                                                              C:\MCC18\src\traditional\startup\c018i.c
001118   0720     DECF      0x20,0x1,0x1                                                                                    
00111a   0e00     MOVLW     0x0                                                                                             
00111c   5b21     SUBWFB    0x21,0x1,0x1                                                                                    
00111e   d7bf     BRA       0x109e               goto test;                                                                 C:\MCC18\src\traditional\startup\c018i.c
                                           done:                                                                            C:\MCC18\src\traditional\startup\c018i.c
                                           ;                                                                                C:\MCC18\src\traditional\startup\c018i.c
001120   0012     RETURN    0x0            }                                                                                C:\MCC18\src\traditional\startup\c018i.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\main.c
                                            * FileName:        main.c                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\main.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\main.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\main.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\main.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\main.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\main.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\main.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\main.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\main.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\main.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\main.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\main.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\MCHPFSUSB\fw\Cdc\main.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #include <p18f2550.h>                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           #include "system\typedefs.h"                        // Required                  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #include "system\usb\usb.h"                         // Required                  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #include "io_cfg.h"                                 // Required                  C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           #include "system\usb\usb_compile_time_validation.h" // Optional                  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #include "user\user.h"                              // Modifiable                C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           //** FUSES *****************************************************************     C:\MCHPFSUSB\fw\Cdc\main.c
                                           /*                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config PLLDIV = 5                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CPUDIV=OSC1_PLL2                                                  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config USBDIV = 2                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config FOSC = HSPLL_HS                                                   C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config FCMEM = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config IESO = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config PWRT = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config BOR = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config BORV = 3                                                          C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config VREGEN = ON                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WDT = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WDTPS = 32768                                                     C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config MCLRE = ON                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config LPT1OSC = OFF                                                     C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config PBADEN = OFF                                                      C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CCP2MX = ON                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config STVREN = OFF                                                      C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config LVP = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config XINST = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config DEBUG = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CP0 = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CP1 = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CP2 = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CP3 = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CPB = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config CPD = OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRT0 = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRT1 = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRT2 = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRT3 = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRTB = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRTC = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config WRTD = OFF                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config EBTR0 = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config EBTR1 = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config EBTR2 = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config EBTR3 = OFF                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma config EBTRB=OFF                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                           */                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /** V A R I A B L E S ********************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           static void InitializeSystem(void);                                              C:\MCHPFSUSB\fw\Cdc\main.c
                                           void USBTasks(void);                                                             C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /** V E C T O R  R E M A P P I N G *******************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           //                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                           //extern void _startup (void);        // See c018i.c in your C18 compiler dir    C:\MCHPFSUSB\fw\Cdc\main.c
                                           //#pragma code _RESET_INTERRUPT_VECTOR = 0x000800                                C:\MCHPFSUSB\fw\Cdc\main.c
                                           //void _reset (void)                                                             C:\MCHPFSUSB\fw\Cdc\main.c
                                           //{                                                                              C:\MCHPFSUSB\fw\Cdc\main.c
                                           //    _asm goto _startup _endasm                                                 C:\MCHPFSUSB\fw\Cdc\main.c
                                           //}                                                                              C:\MCHPFSUSB\fw\Cdc\main.c
                                           //#pragma code                                                                   C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\main.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Function:        void main(void)                                              C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Overview:        Main program entry point.                                    C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           void main(void)                                                                  C:\MCHPFSUSB\fw\Cdc\main.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\main.c
001122   d804     RCALL     0x112c             InitializeSystem();                                                          C:\MCHPFSUSB\fw\Cdc\main.c
00112a   d7fc     BRA       0x1124             while(1)                                                                     C:\MCHPFSUSB\fw\Cdc\main.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
001124   d80f     RCALL     0x1144                 USBTasks();         // USB Tasks                                         C:\MCHPFSUSB\fw\Cdc\main.c
001126   ec3c     CALL      0x78,0x0               ProcessIO();        // See user\user.c & .h                              C:\MCHPFSUSB\fw\Cdc\main.c
001128   f000                                                                                                               
                                               }//end while                                                                 C:\MCHPFSUSB\fw\Cdc\main.c
                                           }//end main                                                                      C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Function:        static void InitializeSystem(void)                           C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Overview:        InitializeSystem is a centralize initialization routine.     C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                  All required USB initialization routines are called from     C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                  here.                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                  User application initialization routine should also be       C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                  called from here.                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           static void InitializeSystem(void)                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\main.c
00112c   0e0f     MOVLW     0xf                ADCON1 |= 0x0F;                 // Default all pins to digital               C:\MCHPFSUSB\fw\Cdc\main.c
00112e   12c1     IORWF     0xc1,0x1,0x0                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                               #if defined(USE_USB_BUS_SENSE_IO)                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                               tris_usb_bus_sense = INPUT_PIN; // See io_cfg.h                              C:\MCHPFSUSB\fw\Cdc\main.c
                                               #endif                                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                               #if defined(USE_SELF_POWER_SENSE_IO)                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                               tris_self_power = INPUT_PIN;                                                 C:\MCHPFSUSB\fw\Cdc\main.c
                                               #endif                                                                       C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
001130   0e14     MOVLW     0x14               mInitializeUSBDriver();         // See usbdrv.h                              C:\MCHPFSUSB\fw\Cdc\main.c
001132   6e6f     MOVWF     0x6f,0x0                                                                                        
001134   0100     MOVLB     0x0                                                                                             
001136   6bfa     CLRF      0xfa,0x1                                                                                        
001138   0100     MOVLB     0x0                                                                                             
00113a   6bfb     CLRF      0xfb,0x1                                                                                        
00113c   0100     MOVLB     0x0                                                                                             
00113e   6bfc     CLRF      0xfc,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
001140   ef16     GOTO      0x2c               UserInit();                     // See user.c & .h                           C:\MCHPFSUSB\fw\Cdc\main.c
001142   f000                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           }//end InitializeSystem                                                          C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Function:        void USBTasks(void)                                          C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * PreCondition:    InitializeSystem has been called.                            C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Overview:        Service loop for USB tasks.                                  C:\MCHPFSUSB\fw\Cdc\main.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\main.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\main.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           void USBTasks(void)                                                              C:\MCHPFSUSB\fw\Cdc\main.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\main.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\main.c
                                                * Servicing Hardware                                                        C:\MCHPFSUSB\fw\Cdc\main.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\main.c
001144   ec20     CALL      0xe40,0x0          USBCheckBusStatus();                    // Must use polling method           C:\MCHPFSUSB\fw\Cdc\main.c
001146   f007                                                                                                               
                                           //    if(UCFGbits.UTEYE!=1)                                                      C:\MCHPFSUSB\fw\Cdc\main.c
001148   ec3c     CALL      0xe78,0x0              USBDriverService();                 // Interrupt or polling method       C:\MCHPFSUSB\fw\Cdc\main.c
00114a   f007                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           //    #if defined(USB_USE_CDC)                                                   C:\MCHPFSUSB\fw\Cdc\main.c
00114c   efc1     GOTO      0x782              CDCTxService();                                                              C:\MCHPFSUSB\fw\Cdc\main.c
00114e   f003                                                                                                               
                                           //    #endif                                                                     C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           }// end USBTasks                                                                 C:\MCHPFSUSB\fw\Cdc\main.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\main.c
                                           /** EOF main.c ***************************************************************/  C:\MCHPFSUSB\fw\Cdc\main.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * FileName:        usbmmap.c                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * -usbmmap.c-                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * USB Memory Map                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * This file is the USB memory manager; it serves as a compile-time memory       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * allocator for the USB endpoints. It uses the compile time options passed      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * from usbcfg.h to instantiate endpoints and endpoint buffer.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Each endpoint requires to have a set of Buffer Descriptor registers(BDT).     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * A BDT is 4-byte long and has a specific RAM location for each endpoint.       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The BDT for endpoint 0 out is located at address 0x400 to 0x403.              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The BDT for endpoint 0 in is located at address 0x404 to 0x407.               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The BDT for endpoint 1 out is located at address 0x408 to 0x40B.              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * and so on... The above allocation assumes the Ping-Pong Buffer Mode 0 is      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * used. These locations are already hard-wired in the silicon. The point        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * of doing instantiation, i.e. volatile far BDT ep0Bo;, is to provide the       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * C compiler a way to address each variable directly. This is very important    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * because when a register can be accessed directly, it saves execution time     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * and reduces program size.                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Endpoints are defined using the endpoint number and the direction             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * of transfer. For simplicity, usbmmap.c only uses the endpoint number          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * in the BDT register allocation scheme. This means if the usbcfg.h states      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * that the MAX_EP_NUMBER is number 1, then four BDTs will be                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * instantiated: one each for endpoint0 in and endpoint0 out, which must         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * always be instantiated for control transfer by default, and one each sets     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * for endpoint1 in and endpoint1 out. The naming convention for instantiating   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * BDT is                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * ep<#>B<d>                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * where # is the endpoint number, and d is the direction of                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * transfer, which could be either <i> or <o>.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The USB memory manager uses MAX_EP_NUMBER, as defined in usbcfg.h, to define  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * the endpoints to be instantiated. This represents the highest endpoint        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * number to be allocated, not how many endpoints are used. Since the BDTs for   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * endpoints have hardware-assigned addresses in Bank 4, setting this value too  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * high may lead to inefficient use of data RAM. For example, if an application  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * uses only endpoints EP0 and EP4, then the MAX_EP_NUMBER is 4, and not 2.      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The in-between endpoint BDTs in this example (EP1, EP2, and EP3) go unused,   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * and the 24 bytes of memory associated with them are wasted. It does not make  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * much sense to skip endpoints, but the final decision lies with the user.      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The next step is to assign the instantiated BDTs to different                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * USB functions. The firmware framework fundamentally assumes that every USB    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * function should know which endpoint it is using, i.e., the default control    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * transfer should know that it is using endpoint 0 in and endpoint 0 out.       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * A HID class can choose which endpoint it wants to use, but once chosen, it    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * should always know the number of the endpoint.                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The assignment of endpoints to USB functions is managed centrally             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * in usbcfg.h. This helps prevent the mistake of having more                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * than one USB function using the same endpoint. The "Endpoint Allocation"      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * section in usbcfg.h provides examples for how to map USB endpoints to USB     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * functions.                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Quite a few things can be mapped in that section. There is no                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * one correct way to do the mapping and the user has the choice to              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * choose a method that is most suitable to the application.                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Typically, however, a user will want to map the following for a given         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * USB interface function:                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * 1. The USB interface ID                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * 2. The endpoint control registers (UEPn)                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * 3. The BDT registers (ep<#>B<d>)                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * 4. The endpoint size                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Example: Assume a USB device class "foo", which uses one out endpoint         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *          of size 64-byte and one in endpoint of size 64-byte, then:           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * #define FOO_INTF_ID          0x00                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * #define FOO_UEP              UEP1                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * #define FOO_BD_OUT           ep1Bo                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * #define FOO_BD_IN            ep1Bi                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * #define FOO_EP_SIZE          64                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The mapping above has chosen class "foo" to use endpoint 1.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The names are arbitrary and can be anything other than FOO_??????.            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * For abstraction, the code for class "foo" should use the abstract             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * definitions of FOO_BD_OUT,FOO_BD_IN, and not ep1Bo or ep1Bi.                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Note that the endpoint size defined in the usbcfg.h file is again             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * used in the usbmmap.c file. This shows that the relationship between          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * the two files are tightly related.                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The endpoint buffer for each USB function must be located in the              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * dual-port RAM area and has to come after all the BDTs have been               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * instantiated. An example declaration is:                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * volatile far unsigned char[FOO_EP_SIZE] data;                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * The 'volatile' keyword tells the compiler not to perform any code             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * optimization on this variable because its content could be modified           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * by the hardware. The 'far' keyword tells the compiler that this variable      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * is not located in the Access RAM area (0x000 - 0x05F).                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * For the variable to be globally accessible by other files, it should be       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * declared in the header file usbmmap.h as an extern definition, such as        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * extern volatile far unsigned char[FOO_EP_SIZE] data;                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Conclusion:                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * In a short summary, the dependencies between usbcfg and usbmmap can           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * be shown as:                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * usbcfg[MAX_EP_NUMBER] -> usbmmap                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * usbmmap[ep<#>B<d>] -> usbcfg                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * usbcfg[EP size] -> usbmmap                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * usbcfg[abstract ep definitions] -> usb9/hid/cdc/etc class code                C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * usbmmap[endpoint buffer variable] -> usb9/hid/cdc/etc class code              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Data mapping provides a means for direct addressing of BDT and endpoint       C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * buffer. This means less usage of pointers, which equates to a faster and      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * smaller program code.                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /** U S B  G L O B A L  V A R I A B L E S ************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           byte usb_device_state;          // Device States: DETACHED, ATTACHED, ...        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           USB_DEVICE_STATUS usb_stat;     // Global USB flags                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           byte usb_active_cfg;            // Value of current configuration                C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           byte usb_alt_intf[MAX_NUM_INT]; // Array to keep track of the current alternate  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                           // setting for each interface ID                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /** U S B  F I X E D  L O C A T I O N  V A R I A B L E S *********************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #pragma udata usbram4=0x400     //See Linker Script,usb4:0x400-0x4FF(256-byte)   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Section A: Buffer Descriptor Table                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * - 0x400 - 0x4FF(max)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * - MAX_EP_NUMBER is defined in autofiles\usbcfg.h                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * - BDT data type is defined in system\usb\usbmmap.h                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(0 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep0Bo;         //Endpoint #0 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep0Bi;         //Endpoint #0 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(1 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep1Bo;         //Endpoint #1 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep1Bi;         //Endpoint #1 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(2 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep2Bo;         //Endpoint #2 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep2Bi;         //Endpoint #2 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(3 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep3Bo;         //Endpoint #3 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep3Bi;         //Endpoint #3 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(4 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep4Bo;         //Endpoint #4 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep4Bi;         //Endpoint #4 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(5 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep5Bo;         //Endpoint #5 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep5Bi;         //Endpoint #5 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(6 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep6Bo;         //Endpoint #6 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep6Bi;         //Endpoint #6 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(7 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep7Bo;         //Endpoint #7 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep7Bi;         //Endpoint #7 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(8 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep8Bo;         //Endpoint #8 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep8Bi;         //Endpoint #8 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(9 <= MAX_EP_NUMBER)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep9Bo;         //Endpoint #9 BD Out                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep9Bi;         //Endpoint #9 BD In                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(10 <= MAX_EP_NUMBER)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep10Bo;        //Endpoint #10 BD Out                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep10Bi;        //Endpoint #10 BD In                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(11 <= MAX_EP_NUMBER)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep11Bo;        //Endpoint #11 BD Out                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep11Bi;        //Endpoint #11 BD In                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(12 <= MAX_EP_NUMBER)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep12Bo;        //Endpoint #12 BD Out                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep12Bi;        //Endpoint #12 BD In                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(13 <= MAX_EP_NUMBER)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep13Bo;        //Endpoint #13 BD Out                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep13Bi;        //Endpoint #13 BD In                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(14 <= MAX_EP_NUMBER)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep14Bo;        //Endpoint #14 BD Out                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep14Bi;        //Endpoint #14 BD In                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if(15 <= MAX_EP_NUMBER)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep15Bo;        //Endpoint #15 BD Out                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far BDT ep15Bi;        //Endpoint #15 BD In                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Section B: EP0 Buffer Space                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            ******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * - Two buffer areas are defined:                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *   A. CTRL_TRF_SETUP                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *      - Size = EP0_BUFF_SIZE as defined in autofiles\usbcfg.h                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *      - Detailed data structure allows direct adddressing of bits and bytes.   C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *   B. CTRL_TRF_DATA                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *      - Size = EP0_BUFF_SIZE as defined in autofiles\usbcfg.h                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *      - Data structure allows direct adddressing of the first 8 bytes.         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * - Both data types are defined in system\usb\usbdefs\usbdefs_ep0_buff.h        C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far CTRL_TRF_SETUP SetupPkt;                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far CTRL_TRF_DATA CtrlTrfData;                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            * Section C: CDC Buffer                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            ******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #pragma udata usbram5a=0x500    //See Linker Script,usb5:0x500-...               C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #if defined(USB_USE_CDC)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far unsigned char cdc_notice[CDC_INT_EP_SIZE];                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far unsigned char cdc_data_rx[CDC_BULK_OUT_EP_SIZE];                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           volatile far unsigned char cdc_data_tx[CDC_BULK_IN_EP_SIZE];                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #endif                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /** EOF usbmmap.c ************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbmmap.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * FileName:        usbdrv.c                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           #include <p18f2550.h>                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           #include "io_cfg.h"             // Required for USBCheckBusStatus()              C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /** V A R I A B L E S ********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBModuleEnable(void);                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBModuleDisable(void);                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBSuspend(void);                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBWakeFromSuspend(void);                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBProtocolResetHandler(void);                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USB_SOF_Handler(void);                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBStallHandler(void);                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBErrorHandler(void);                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBCheckBusStatus(void)                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine enables/disables the USB module by monitoring   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  the USB power signal.                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBCheckBusStatus(void)                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /**************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Bus Attachment & Detachment Detection                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * usb_bus_sense is an i/o pin defined in io_cfg.h                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               #define USB_BUS_ATTACHED    1                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               #define USB_BUS_DETACHED    0                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               if(usb_bus_sense == USB_BUS_ATTACHED)       // Is USB bus attached?          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e40   a66d     BTFSS     0x6d,0x3,0x0           if(UCONbits.USBEN == 0)                 // Is the module off?            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e42   d80c     RCALL     0xe5c                      USBModuleEnable();                  // Is off, enable it             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               else                                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   if(UCONbits.USBEN == 1)                 // Is the module on?             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                       USBModuleDisable();                 // Is on, disable it             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               }//end if(usb_bus_sense...)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * After enabling the USB module, it takes some time for the voltage         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * on the D+ or D- line to rise high enough to get out of the SE0 condition. C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * The USB Reset interrupt should not be unmasked until the SE0 condition is C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * cleared. This helps preventing the firmware from misinterpreting this     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * unique event as a USB bus reset from the USB host.                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e44   0100     MOVLB     0x0                if(usb_device_state == ATTACHED_STATE)                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e46   05fa     DECF      0xfa,0x0,0x1                                                                                    
000e48   e108     BNZ       0xe5a                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e4a   ba6d     BTFSC     0x6d,0x5,0x0           if(!UCONbits.SE0)                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e4c   d006     BRA       0xe5a                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e4e   6a68     CLRF      0x68,0x0                   UIR = 0;                        // Clear all USB interrupts          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e50   6a69     CLRF      0x69,0x0                   UIE = 0;                        // Mask all USB interrupts           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e52   8069     BSF       0x69,0x0,0x0               UIEbits.URSTIE = 1;             // Unmask RESET interrupt            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e54   8869     BSF       0x69,0x4,0x0               UIEbits.IDLEIE = 1;             // Unmask IDLE interrupt             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e56   0e02     MOVLW     0x2                        usb_device_state = POWERED_STATE;                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e58   6ffa     MOVWF     0xfa,0x1                                                                                        
                                                   }//end if                           // else wait until SE0 is cleared    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               }//end if(usb_device_state == ATTACHED_STATE)                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e5a   0012     RETURN    0x0            }//end USBCheckBusStatus                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBModuleEnable(void)                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine enables the USB module.                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  An end designer should never have to call this routine       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  manually. This routine should only be called from            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  USBCheckBusStatus().                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            See USBCheckBusStatus() for more information.                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBModuleEnable(void)                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e5c   6a6d     CLRF      0x6d,0x0           UCON = 0;                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e5e   6a69     CLRF      0x69,0x0           UIE = 0;                                // Mask all USB interrupts           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e60   866d     BSF       0x6d,0x3,0x0       UCONbits.USBEN = 1;                     // Enable module & attach to bus     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e62   0100     MOVLB     0x0                usb_device_state = ATTACHED_STATE;      // Defined in usbmmap.c & .h         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e64   0e01     MOVLW     0x1                                                                                             
000e66   6ffa     MOVWF     0xfa,0x1                                                                                        
000e68   0012     RETURN    0x0            }//end USBModuleEnable                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBModuleDisable(void)                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine disables the USB module.                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  An end designer should never have to call this routine       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  manually. This routine should only be called from            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  USBCheckBusStatus().                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            See USBCheckBusStatus() for more information.                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBModuleDisable(void)                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e6a   6a6d     CLRF      0x6d,0x0           UCON = 0;                               // Disable module & detach from bus  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e6c   6a69     CLRF      0x69,0x0           UIE = 0;                                // Mask all USB interrupts           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e6e   0100     MOVLB     0x0                usb_device_state = DETACHED_STATE;      // Defined in usbmmap.c & .h         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e70   6bfa     CLRF      0xfa,0x1                                                                                        
000e72   0012     RETURN    0x0            }//end USBModuleDisable                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBSoftDetach(void)                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    The device will have to be re-enumerated to function again.  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        USBSoftDetach electrically disconnects the device from       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  the bus. This is done by stop supplying Vusb voltage to      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  pull-up resistor. The pull-down resistors on the host        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  side will pull both differential signal lines low and        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  the host registers the event as a disconnect.                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  Since the USB cable is not physically disconnected, the      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  power supply through the cable can still be sensed by        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  the device. The next time USBCheckBusStatus() function       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  is called, it will reconnect the device back to the bus.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBSoftDetach(void)                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e74   ef35     GOTO      0xe6a              USBModuleDisable();                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e76   f007                                                                                                               
                                           }//end USBSoftDetach                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBDriverService(void)                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This routine is the heart of this firmware. It manages       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  all USB interrupts.                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            Device state transitions through the following stages:       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  DETACHED -> ATTACHED -> POWERED -> DEFAULT ->                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  ADDRESS_PENDING -> ADDRESSED -> CONFIGURED -> READY          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBDriverService(void)                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if USB cable is not even attached.        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e78   0100     MOVLB     0x0                if(usb_device_state == DETACHED_STATE) return;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e7a   51fa     MOVF      0xfa,0x0,0x1                                                                                    
000e7c   e101     BNZ       0xe80                                                                                           
000e7e   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Task A: Service USB Activity Interrupt                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e80   5068     MOVF      0x68,0x0,0x0       if(UIRbits.ACTVIF && UIEbits.ACTVIE)    USBWakeFromSuspend();                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e82   0b04     ANDLW     0x4                                                                                             
000e84   e004     BZ        0xe8e                                                                                           
000e86   5069     MOVF      0x69,0x0,0x0                                                                                    
000e88   0b04     ANDLW     0x4                                                                                             
000e8a   e001     BZ        0xe8e                                                                                           
000e8c   d83c     RCALL     0xf06                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if the device is in suspend mode.         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e8e   b26d     BTFSC     0x6d,0x1,0x0       if(UCONbits.SUSPND==1) return;                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e90   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Task B: Service USB Bus Reset Interrupt.                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * When bus reset is received during suspend, ACTVIF will be set first,      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * once the UCONbits.SUSPND is clear, then the URSTIF bit will be asserted.  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * This is why URSTIF is checked after ACTVIF.                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e92   5068     MOVF      0x68,0x0,0x0       if(UIRbits.URSTIF && UIEbits.URSTIE)    USBProtocolResetHandler();           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000e94   0b01     ANDLW     0x1                                                                                             
000e96   e004     BZ        0xea0                                                                                           
000e98   5069     MOVF      0x69,0x0,0x0                                                                                    
000e9a   0b01     ANDLW     0x1                                                                                             
000e9c   e001     BZ        0xea0                                                                                           
000e9e   d854     RCALL     0xf48                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Task C: Service other USB interrupts                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ea0   5068     MOVF      0x68,0x0,0x0       if(UIRbits.IDLEIF && UIEbits.IDLEIE)    USBSuspend();                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ea2   0b10     ANDLW     0x10                                                                                            
000ea4   e004     BZ        0xeae                                                                                           
000ea6   5069     MOVF      0x69,0x0,0x0                                                                                    
000ea8   0b10     ANDLW     0x10                                                                                            
000eaa   e001     BZ        0xeae                                                                                           
000eac   d824     RCALL     0xef6                                                                                           
000eae   5068     MOVF      0x68,0x0,0x0       if(UIRbits.SOFIF && UIEbits.SOFIE)      USB_SOF_Handler();                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000eb0   0b40     ANDLW     0x40                                                                                            
000eb2   e004     BZ        0xebc                                                                                           
000eb4   5069     MOVF      0x69,0x0,0x0                                                                                    
000eb6   0b40     ANDLW     0x40                                                                                            
000eb8   e001     BZ        0xebc                                                                                           
000eba   d83b     RCALL     0xf32                                                                                           
000ebc   5068     MOVF      0x68,0x0,0x0       if(UIRbits.STALLIF && UIEbits.STALLIE)  USBStallHandler();                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ebe   0b20     ANDLW     0x20                                                                                            
000ec0   e004     BZ        0xeca                                                                                           
000ec2   5069     MOVF      0x69,0x0,0x0                                                                                    
000ec4   0b20     ANDLW     0x20                                                                                            
000ec6   e001     BZ        0xeca                                                                                           
000ec8   d836     RCALL     0xf36                                                                                           
000eca   5068     MOVF      0x68,0x0,0x0       if(UIRbits.UERRIF && UIEbits.UERRIE)    USBErrorHandler();                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ecc   0b02     ANDLW     0x2                                                                                             
000ece   e004     BZ        0xed8                                                                                           
000ed0   5069     MOVF      0x69,0x0,0x0                                                                                    
000ed2   0b02     ANDLW     0x2                                                                                             
000ed4   e001     BZ        0xed8                                                                                           
000ed6   d836     RCALL     0xf44                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Pointless to continue servicing if the host has not sent a bus reset.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Once bus reset is received, the device transitions into the DEFAULT       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * state and is ready for communication.                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ed8   0e03     MOVLW     0x3                if(usb_device_state < DEFAULT_STATE) return;                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000eda   0100     MOVLB     0x0                                                                                             
000edc   5dfa     SUBWF     0xfa,0x0,0x1                                                                                    
000ede   e201     BC        0xee2                                                                                           
000ee0   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Task D: Servicing USB Transaction Complete Interrupt                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ee2   5068     MOVF      0x68,0x0,0x0       if(UIRbits.TRNIF && UIEbits.TRNIE)                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ee4   0b08     ANDLW     0x8                                                                                             
000ee6   e006     BZ        0xef4                                                                                           
000ee8   5069     MOVF      0x69,0x0,0x0                                                                                    
000eea   0b08     ANDLW     0x8                                                                                             
000eec   e003     BZ        0xef4                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * USBCtrlEPService only services transactions over EP0.                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * It ignores all other EP transactions.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000eee   ec34     CALL      0x868,0x0              USBCtrlEPService();                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ef0   f004                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * Other EP can be serviced later by responsible device class firmware.  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * Each device driver knows when an OUT or IN transaction is ready by    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * checking the buffer ownership bit.                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * An OUT EP should always be owned by SIE until the data is ready.      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * An IN EP should always be owned by CPU until the data is ready.       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    *                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * Because of this logic, it is not necessary to save the USTAT value    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    * of non-EP0 transactions.                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ef2   9668     BCF       0x68,0x3,0x0           UIRbits.TRNIF = 0;                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               }//end if(UIRbits.TRNIF && UIEbits.TRNIE)                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ef4   0012     RETURN    0x0            }//end USBDriverService                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBSuspend(void)                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBSuspend(void)                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * NOTE: Do not clear UIRbits.ACTVIF here!                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Reason:                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * ACTVIF is only generated once an IDLEIF has been generated.               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * This is a 1:1 ratio interrupt generation.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * For every IDLEIF, there will be only one ACTVIF regardless of             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * the number of subsequent bus transitions.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * If the ACTIF is cleared here, a problem could occur when:                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * [       IDLE       ][bus activity ->                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * <--- 3 ms ----->     ^                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                ^     ACTVIF=1                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                IDLEIF=1                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *  #           #           #           #   (#=Program polling flags)        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          ^                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          This polling loop will see both                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          IDLEIF=1 and ACTVIF=1.                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          However, the program services IDLEIF first       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          because ACTIVIE=0.                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          If this routine clears the only ACTIVIF,         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          then it can never get out of the suspend         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                *                          mode.                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ef6   8469     BSF       0x69,0x2,0x0       UIEbits.ACTVIE = 1;                     // Enable bus activity interrupt     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000ef8   9868     BCF       0x68,0x4,0x0       UIRbits.IDLEIF = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000efa   826d     BSF       0x6d,0x1,0x0       UCONbits.SUSPND = 1;                    // Put USB module in power conserve  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                       // mode, SIE clock inactive          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * At this point the PIC can go into sleep,idle, or                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * switch to a slower clock, etc.                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /* Modifiable Section */                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000efc   9aa1     BCF       0xa1,0x5,0x0       PIR2bits.USBIF = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000efe   8aa0     BSF       0xa0,0x5,0x0       PIE2bits.USBIE = 1;                     // Set USB wakeup source             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f00   0003     SLEEP                        Sleep();                                // Goto sleep                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f02   9aa0     BCF       0xa0,0x5,0x0       PIE2bits.USBIE = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /* End Modifiable Section */                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f04   0012     RETURN    0x0            }//end USBSuspend                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBWakeFromSuspend(void)                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBWakeFromSuspend(void)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * If using clock switching, this is the place to restore the                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * original clock frequency.                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f06   926d     BCF       0x6d,0x1,0x0       UCONbits.SUSPND = 0;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f08   9469     BCF       0x69,0x2,0x0       UIEbits.ACTVIE = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f0a   9468     BCF       0x68,0x2,0x0       UIRbits.ACTVIF = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f0c   0012     RETURN    0x0            }//end USBWakeFromSuspend                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBRemoteWakeup(void)                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        This function should be called by user when the device       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  is waken up by an external stimulus other than ACTIVIF.      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  Please read the note below to understand the limitations.    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            The modifiable section in this routine should be changed     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  to meet the application needs. Current implementation        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  temporary blocks other functions from executing for a        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  period of 1-13 ms depending on the core frequency.           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  According to USB 2.0 specification section 7.1.7.7,          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  "The remote wakeup device must hold the resume signaling     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  for at lest 1 ms but for no more than 15 ms."                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  The idea here is to use a delay counter loop, using a        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  common value that would work over a wide range of core       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  frequencies.                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  That value selected is 1800. See table below:                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  Core Freq(MHz)      MIP         RESUME Signal Period (ms)    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                      48              12          1.05                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                       4              1           12.6                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  ==========================================================   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  * These timing could be incorrect when using code            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                    optimization or extended instruction mode,                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                    or when having other interrupts enabled.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                    Make sure to verify using the MPLAB SIM's Stopwatch        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBRemoteWakeup(void)                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               static word delay_count;                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f0e   0100     MOVLB     0x0                if(usb_stat.RemoteWakeup == 1)          // Check if RemoteWakeup function    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f10   a1fb     BTFSS     0xfb,0x0,0x1                                                                                    
000f12   d00e     BRA       0xf30                                                                                           
                                               {                                       // has been enabled by the host.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f14   dff8     RCALL     0xf06                  USBWakeFromSuspend();               // Unsuspend USB modue               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f16   846d     BSF       0x6d,0x2,0x0           UCONbits.RESUME = 1;                // Start RESUME signaling            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   /* Modifiable Section */                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f18   0100     MOVLB     0x0                    delay_count = 1800U;                // Set RESUME line for 1-13 ms       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f1a   0e08     MOVLW     0x8                                                                                             
000f1c   6ffe     MOVWF     0xfe,0x1                                                                                        
000f1e   0e07     MOVLW     0x7                                                                                             
000f20   6fff     MOVWF     0xff,0x1                                                                                        
                                                   do                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f22   07fe     DECF      0xfe,0x1,0x1               delay_count--;                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f24   0e00     MOVLW     0x0                                                                                             
000f26   5bff     SUBWFB    0xff,0x1,0x1                                                                                    
000f28   51fe     MOVF      0xfe,0x0,0x1           }while(delay_count);                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f2a   11ff     IORWF     0xff,0x0,0x1                                                                                    
000f2c   e1fa     BNZ       0xf22                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   /* End Modifiable Section */                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f2e   946d     BCF       0x6d,0x2,0x0           UCONbits.RESUME = 0;                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               }//endif                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f30   0012     RETURN    0x0            }//end USBRemoteWakeup                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USB_SOF_Handler(void)                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The USB host sends out a SOF packet to full-speed devices    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  every 1 ms. This interrupt may be useful for isochronous     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  pipes. End designers should implement callback routine       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  as necessary.                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USB_SOF_Handler(void)                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /* Callback routine here */                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f32   9c68     BCF       0x68,0x6,0x0       UIRbits.SOFIF = 0;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f34   0012     RETURN    0x0            }//end USB_SOF_Handler                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBStallHandler(void)                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    A STALL packet is sent to the host by the SIE.               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The STALLIF is set anytime the SIE sends out a STALL         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  packet regardless of which endpoint causes it.               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  A Setup transaction overrides the STALL function. A stalled  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  endpoint stops stalling once it receives a setup packet.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  In this case, the SIE will accepts the Setup packet and      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  set the TRNIF flag to notify the firmware. STALL function    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  for that particular endpoint pipe will be automatically      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  disabled (direction specific).                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  There are a few reasons for an endpoint to be stalled.       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  1. When a non-supported USB request is received.             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                     Example: GET_DESCRIPTOR(DEVICE_QUALIFIER)                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  2. When an endpoint is currently halted.                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  3. When the device class specifies that an endpoint must     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                     stall in response to a specific event.                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                     Example: Mass Storage Device Class                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                              If the CBW is not valid, the device shall        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                              STALL the Bulk-In pipe.                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                              See USB Mass Storage Class Bulk-only Transport   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                              Specification for more details.                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            UEPn.EPSTALL can be scanned to see which endpoint causes     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  the stall event.                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  If                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBStallHandler(void)                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * Does not really have to do anything here,                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * even for the control endpoint.                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * All BDs of Endpoint 0 are owned by SIE right now,                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * but once a Setup Transaction is received, the ownership                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * for EP0_OUT will be returned to CPU.                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * When the Setup Transaction is serviced, the ownership                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                * for EP0_IN will then be forced back to CPU by firmware.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f36   a070     BTFSS     0x70,0x0,0x0       if(UEP0bits.EPSTALL == 1)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f38   d003     BRA       0xf40                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f3a   ec9d     CALL      0xb3a,0x0              USBPrepareForNextSetupTrf();        // Firmware work-around              C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f3c   f005                                                                                                               
000f3e   9070     BCF       0x70,0x0,0x0           UEP0bits.EPSTALL = 0;                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f40   9a68     BCF       0x68,0x5,0x0       UIRbits.STALLIF = 0;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f42   0012     RETURN    0x0            }//end USBStallHandler                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBErrorHandler(void)                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        The purpose of this interrupt is mainly for debugging        C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  during development. Check UEIR to see which error causes     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  the interrupt.                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBErrorHandler(void)                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f44   9268     BCF       0x68,0x1,0x0       UIRbits.UERRIF = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f46   0012     RETURN    0x0            }//end USBErrorHandler                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Function:        void USBProtocolResetHandler(void)                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * PreCondition:    A USB bus reset is received from the host.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Side Effects:    Currently, this routine flushes any pending USB              C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  transactions. It empties out the USTAT FIFO. This action     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  might not be desirable in some applications.                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Overview:        Once a USB bus reset is received from the host, this         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  routine should be called. It resets the device address to    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  zero, disables all non-EP0 endpoints, initializes EP0 to     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  be ready for default communication, clears all USB           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  interrupt flags, unmasks applicable USB interrupts, and      C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                  reinitializes internal state-machine variables.              C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           void USBProtocolResetHandler(void)                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f48   6a6a     CLRF      0x6a,0x0           UEIR = 0;                       // Clear all USB error flags                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f4a   6a68     CLRF      0x68,0x0           UIR = 0;                        // Clears all USB interrupts                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f4c   0e9f     MOVLW     0x9f               UEIE = 0b10011111;              // Unmask all USB error interrupts           C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f4e   6e6b     MOVWF     0x6b,0x0                                                                                        
000f50   0e7b     MOVLW     0x7b               UIE = 0b01111011;               // Enable all interrupts except ACTVIE       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f52   6e69     MOVWF     0x69,0x0                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f54   6a6e     CLRF      0x6e,0x0           UADDR = 0x00;                   // Reset to default address                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f56   0e0f     MOVLW     0xf                mDisableEP1to15();              // Reset all non-EP0 UEPn registers          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f58   6ee6     MOVWF     0xe6,0x0                                                                                        
000f5a   0e71     MOVLW     0x71                                                                                            
000f5c   6ee6     MOVWF     0xe6,0x0                                                                                        
000f5e   0e0f     MOVLW     0xf                                                                                             
000f60   6ee6     MOVWF     0xe6,0x0                                                                                        
000f62   d814     RCALL     0xf8c                                                                                           
000f64   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000f66   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000f68   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000f6a   0e16     MOVLW     0x16               UEP0 = EP_CTRL|HSHK_EN;         // Init EP0 as a Ctrl EP, see usbdrv.h       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f6c   6e70     MOVWF     0x70,0x0                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f6e   a668     BTFSS     0x68,0x3,0x0       while(UIRbits.TRNIF == 1)       // Flush any pending transactions            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f70   d002     BRA       0xf76                                                                                           
000f74   d7fc     BRA       0xf6e                                                                                           
000f72   9668     BCF       0x68,0x3,0x0           UIRbits.TRNIF = 0;                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f76   986d     BCF       0x6d,0x4,0x0       UCONbits.PKTDIS = 0;            // Make sure packet processing is enabled    C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f78   ec9d     CALL      0xb3a,0x0          USBPrepareForNextSetupTrf();    // Declared in usbctrltrf.c                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f7a   f005                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f7c   0100     MOVLB     0x0                usb_stat.RemoteWakeup = 0;      // Default status flag to disable            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f7e   91fb     BCF       0xfb,0x0,0x1                                                                                    
000f80   0100     MOVLB     0x0                usb_active_cfg = 0;             // Clear active configuration                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f82   6bfc     CLRF      0xfc,0x1                                                                                        
000f84   0100     MOVLB     0x0                usb_device_state = DEFAULT_STATE;                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f86   0e03     MOVLW     0x3                                                                                             
000f88   6ffa     MOVWF     0xfa,0x1                                                                                        
000f8a   0012     RETURN    0x0            }//end USBProtocolResetHandler                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /* Auxiliary Function */                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f8c   cfd9     MOVFF     0xfd9,0xfe6    void ClearArray(byte* startAdr,byte count)                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f8e   ffe6                                                                                                               
000f90   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000f92   ffd9                                                                                                               
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f94   0efd     MOVLW     0xfd               *startAdr;                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000f96   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000f98   ffe9                                                                                                               
000f9a   0efe     MOVLW     0xfe                                                                                            
000f9c   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000f9e   ffea                                                                                                               
000fa0   0efc     MOVLW     0xfc               while(count)                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000fa2   50db     MOVF      0xdb,0x0,0x0                                                                                    
000fa4   e004     BZ        0xfae                                                                                           
000fac   d7f9     BRA       0xfa0                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   _asm                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000fa6   6aee     CLRF      0xee,0x0               clrf POSTINC0,0                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                                   _endasm                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000fa8   0efc     MOVLW     0xfc                   count--;                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000faa   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }//end while                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000fae   52e5     MOVF      0xe5,0x1,0x0   }//end ClearArray                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
000fb0   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000fb2   ffd9                                                                                                               
000fb4   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /** EOF usbdrv.c *************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbdrv\usbdrv.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * FileName:        usb9.c                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           #include <p18f2550.h>                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           #include "io_cfg.h"                     // Required for self_power status        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /** V A R I A B L E S ********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdGetDscHandler(void);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdSetCfgHandler(void);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdGetStatusHandler(void);                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdFeatureReqHandler(void);                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Function:        void USBCheckStdRequest(void)                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Overview:        This routine checks the setup data packet to see if it       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  knows how to handle it                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBCheckStdRequest(void)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000b56   0104     MOVLB     0x4                if(SetupPkt.RequestType != STANDARD) return;                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000b58   5120     MOVF      0x20,0x0,0x1                                                                                    
000b5a   0b60     ANDLW     0x60                                                                                            
000b5c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000b5e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000b60   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000b62   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000b64   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000b66   0900     IORLW     0x0                                                                                             
000b68   e001     BZ        0xb6c                                                                                           
000b6a   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000b6c   5121     MOVF      0x21,0x0,0x1       switch(SetupPkt.bRequest)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000b6e   0a07     XORLW     0x7                                                                                             
000b70   e04c     BZ        0xc0a                                                                                           
000b72   0a0b     XORLW     0xb                                                                                             
000b74   e04a     BZ        0xc0a                                                                                           
000b76   0a07     XORLW     0x7                                                                                             
000b78   e03b     BZ        0xbf0                                                                                           
000b7a   0a01     XORLW     0x1                                                                                             
000b7c   e027     BZ        0xbcc                                                                                           
000b7e   0a0b     XORLW     0xb                                                                                             
000b80   e023     BZ        0xbc8                                                                                           
000b82   0a02     XORLW     0x2                                                                                             
000b84   e021     BZ        0xbc8                                                                                           
000b86   0a03     XORLW     0x3                                                                                             
000b88   e01d     BZ        0xbc4                                                                                           
000b8a   0a08     XORLW     0x8                                                                                             
000b8c   e012     BZ        0xbb2                                                                                           
000b8e   0a01     XORLW     0x1                                                                                             
000b90   e00e     BZ        0xbae                                                                                           
000b92   0a0f     XORLW     0xf                                                                                             
000b94   e00a     BZ        0xbaa                                                                                           
000b96   0a03     XORLW     0x3                                                                                             
000b98   e001     BZ        0xb9c                                                                                           
000b9a   0012     RETURN    0x0                                                                                             
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case SET_ADR:                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000b9c   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000b9e   0e01     MOVLW     0x1                                                                                             
000ba0   6f26     MOVWF     0x26,0x1                                                                                        
000ba2   0100     MOVLB     0x0                        usb_device_state = ADR_PENDING_STATE;       // Update state only     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000ba4   0e04     MOVLW     0x4                                                                                             
000ba6   6ffa     MOVWF     0xfa,0x1                                                                                        
                                                       /* See USBCtrlTrfInHandler() in usbctrltrf.c for the next step */    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000ba8   0012     RETURN    0x0                        break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case GET_DSC:                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000baa   ef06     GOTO      0xc0c                      USBStdGetDscHandler();                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bac   f006                                                                                                               
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case SET_CFG:                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bae   ef5d     GOTO      0xcba                      USBStdSetCfgHandler();                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bb0   f006                                                                                                               
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case GET_CFG:                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bb2   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bb4   0e01     MOVLW     0x1                                                                                             
000bb6   6f26     MOVWF     0x26,0x1                                                                                        
000bb8   0101     MOVLB     0x1                        pSrc.bRam = (byte*)&usb_active_cfg;         // Set Source            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bba   0efc     MOVLW     0xfc                                                                                            
000bbc   6f27     MOVWF     0x27,0x1                                                                                        
000bbe   0e00     MOVLW     0x0                                                                                             
000bc0   6f28     MOVWF     0x28,0x1                                                                                        
                                                       usb_stat.ctrl_trf_mem = _RAM;               // Set memory type       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                       LSB(wCount) = 1;                            // Set data count        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bc2   d010     BRA       0xbe4                      break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case GET_STATUS:                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bc4   ef84     GOTO      0xd08                      USBStdGetStatusHandler();                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bc6   f006                                                                                                               
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case CLR_FEATURE:                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case SET_FEATURE:                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bc8   efcf     GOTO      0xd9e                      USBStdFeatureReqHandler();                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bca   f006                                                                                                               
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case GET_INTF:                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bcc   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bce   0e01     MOVLW     0x1                                                                                             
000bd0   6f26     MOVWF     0x26,0x1                                                                                        
000bd2   0104     MOVLB     0x4                        pSrc.bRam = (byte*)&usb_alt_intf+SetupPkt.bIntfID;  // Set source    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bd4   5124     MOVF      0x24,0x0,0x1                                                                                    
000bd6   0101     MOVLB     0x1                                                                                             
000bd8   6f27     MOVWF     0x27,0x1                                                                                        
000bda   6b28     CLRF      0x28,0x1                                                                                        
000bdc   0efd     MOVLW     0xfd                                                                                            
000bde   2727     ADDWF     0x27,0x1,0x1                                                                                    
000be0   0e00     MOVLW     0x0                                                                                             
000be2   2328     ADDWFC    0x28,0x1,0x1                                                                                    
000be4   0100     MOVLB     0x0                        usb_stat.ctrl_trf_mem = _RAM;               // Set memory type       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000be6   93fb     BCF       0xfb,0x1,0x1                                                                                    
000be8   0101     MOVLB     0x1                        LSB(wCount) = 1;                            // Set data count        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bea   0e01     MOVLW     0x1                                                                                             
000bec   6f2b     MOVWF     0x2b,0x1                                                                                        
000bee   0012     RETURN    0x0                        break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case SET_INTF:                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bf0   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bf2   0e01     MOVLW     0x1                                                                                             
000bf4   6f26     MOVWF     0x26,0x1                                                                                        
000bf6   0104     MOVLB     0x4                        usb_alt_intf[SetupPkt.bIntfID] = SetupPkt.bAltID;                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000bf8   5124     MOVF      0x24,0x0,0x1                                                                                    
000bfa   6aea     CLRF      0xea,0x0                                                                                        
000bfc   0ffd     ADDLW     0xfd                                                                                            
000bfe   6ee9     MOVWF     0xe9,0x0                                                                                        
000c00   0e00     MOVLW     0x0                                                                                             
000c02   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000c04   c422     MOVFF     0x422,0xfef                                                                                     
000c06   ffef                                                                                                               
000c08   0012     RETURN    0x0                        break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case SET_DSC:                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case SYNCH_FRAME:                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   default:                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                               }//end switch                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c0a   0012     RETURN    0x0            }//end USBCheckStdRequest                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Function:        void USBStdGetDscHandler(void)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard GET_DESCRIPTOR request.    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  It utilizes tables dynamically looks up descriptor size.     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  This routine should never have to be modified if the tables  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  in usbdsc.c are declared correctly.                          C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdGetDscHandler(void)                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c0c   0e80     MOVLW     0x80               if(SetupPkt.bmRequestType == 0x80)                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c0e   0104     MOVLB     0x4                                                                                             
000c10   5d20     SUBWF     0x20,0x0,0x1                                                                                    
000c12   e152     BNZ       0xcb8                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c14   5123     MOVF      0x23,0x0,0x1           switch(SetupPkt.bDscType)                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c16   0a03     XORLW     0x3                                                                                             
000c18   e030     BZ        0xc7a                                                                                           
000c1a   0a01     XORLW     0x1                                                                                             
000c1c   e00c     BZ        0xc36                                                                                           
000c1e   0a03     XORLW     0x3                                                                                             
000c20   e149     BNZ       0xcb4                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                       case DSC_DEV:                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c22   0101     MOVLB     0x1                            ctrl_trf_session_owner = MUID_USB9;                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c24   0e01     MOVLW     0x1                                                                                             
000c26   6f26     MOVWF     0x26,0x1                                                                                        
000c28   0101     MOVLB     0x1                            pSrc.bRom = (rom byte*)&device_dsc;                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c2a   0eb6     MOVLW     0xb6                                                                                            
000c2c   6f27     MOVWF     0x27,0x1                                                                                        
000c2e   0e0f     MOVLW     0xf                                                                                             
000c30   6f28     MOVWF     0x28,0x1                                                                                        
000c32   0e12     MOVLW     0x12                           wCount._word = sizeof(device_dsc);          // Set data count    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c34   d03c     BRA       0xcae                          break;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                       case DSC_CFG:                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c36   0101     MOVLB     0x1                            ctrl_trf_session_owner = MUID_USB9;                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c38   0e01     MOVLW     0x1                                                                                             
000c3a   6f26     MOVWF     0x26,0x1                                                                                        
000c3c   0104     MOVLB     0x4                            pSrc.bRom = *(USB_CD_Ptr+SetupPkt.bDscIndex);                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c3e   5122     MOVF      0x22,0x0,0x1                                                                                    
000c40   6ef6     MOVWF     0xf6,0x0                                                                                        
000c42   6af7     CLRF      0xf7,0x0                                                                                        
000c44   90d8     BCF       0xd8,0x0,0x0                                                                                    
000c46   36f6     RLCF      0xf6,0x1,0x0                                                                                    
000c48   36f7     RLCF      0xf7,0x1,0x0                                                                                    
000c4a   0e77     MOVLW     0x77                                                                                            
000c4c   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
000c4e   0e10     MOVLW     0x10                                                                                            
000c50   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
000c52   0009     TBLRDPOSTINC                                                                                              
000c54   cff5     MOVFF     0xff5,0x127                                                                                     
000c56   f127                                                                                                               
000c58   000a     TBLRDPOSTDEC                                                                                              
000c5a   cff5     MOVFF     0xff5,0x128                                                                                     
000c5c   f128                                                                                                               
000c5e   0e02     MOVLW     0x2                            wCount._word = *(pSrc.wRom+1);              // Set data count    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c60   0101     MOVLB     0x1                                                                                             
000c62   6af7     CLRF      0xf7,0x0                                                                                        
000c64   2527     ADDWF     0x27,0x0,0x1                                                                                    
000c66   6ef6     MOVWF     0xf6,0x0                                                                                        
000c68   5128     MOVF      0x28,0x0,0x1                                                                                    
000c6a   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
000c6c   0009     TBLRDPOSTINC                                                                                              
000c6e   cff5     MOVFF     0xff5,0x12b                                                                                     
000c70   f12b                                                                                                               
000c72   000a     TBLRDPOSTDEC                                                                                              
000c74   cff5     MOVFF     0xff5,0x12c                                                                                     
000c76   f12c                                                                                                               
000c78   d01d     BRA       0xcb4                          break;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                       case DSC_STR:                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c7a   0101     MOVLB     0x1                            ctrl_trf_session_owner = MUID_USB9;                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c7c   0e01     MOVLW     0x1                                                                                             
000c7e   6f26     MOVWF     0x26,0x1                                                                                        
000c80   0104     MOVLB     0x4                            pSrc.bRom = *(USB_SD_Ptr+SetupPkt.bDscIndex);                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000c82   5122     MOVF      0x22,0x0,0x1                                                                                    
000c84   6ef6     MOVWF     0xf6,0x0                                                                                        
000c86   6af7     CLRF      0xf7,0x0                                                                                        
000c88   90d8     BCF       0xd8,0x0,0x0                                                                                    
000c8a   36f6     RLCF      0xf6,0x1,0x0                                                                                    
000c8c   36f7     RLCF      0xf7,0x1,0x0                                                                                    
000c8e   0e7b     MOVLW     0x7b                                                                                            
000c90   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
000c92   0e10     MOVLW     0x10                                                                                            
000c94   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
000c96   0009     TBLRDPOSTINC                                                                                              
000c98   cff5     MOVFF     0xff5,0x127                                                                                     
000c9a   f127                                                                                                               
000c9c   000a     TBLRDPOSTDEC                                                                                              
000c9e   cff5     MOVFF     0xff5,0x128                                                                                     
000ca0   f128                                                                                                               
000ca2   c127     MOVFF     0x127,0xff6                    wCount._word = *pSrc.bRom;                  // Set data count    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000ca4   fff6                                                                                                               
000ca6   c128     MOVFF     0x128,0xff7                                                                                     
000ca8   fff7                                                                                                               
000caa   0008     TBLRD                                                                                                     
000cac   50f5     MOVF      0xf5,0x0,0x0                                                                                    
000cae   0101     MOVLB     0x1                                                                                             
000cb0   6f2b     MOVWF     0x2b,0x1                                                                                        
000cb2   6b2c     CLRF      0x2c,0x1                                                                                        
                                                           break;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   }//end switch                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cb4   0100     MOVLB     0x0                    usb_stat.ctrl_trf_mem = _ROM;                       // Set memory type   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cb6   83fb     BSF       0xfb,0x1,0x1                                                                                    
                                               }//end if                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cb8   0012     RETURN    0x0            }//end USBStdGetDscHandler                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Function:        void USBStdSetCfgHandler(void)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Overview:        This routine first disables all endpoints by clearing        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  UEP registers. It then configures (initializes) endpoints    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  specified in the modifiable section.                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdSetCfgHandler(void)                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cba   0101     MOVLB     0x1                ctrl_trf_session_owner = MUID_USB9;                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cbc   0e01     MOVLW     0x1                                                                                             
000cbe   6f26     MOVWF     0x26,0x1                                                                                        
000cc0   0e0f     MOVLW     0xf                mDisableEP1to15();                          // See usbdrv.h                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cc2   6ee6     MOVWF     0xe6,0x0                                                                                        
000cc4   0e71     MOVLW     0x71                                                                                            
000cc6   6ee6     MOVWF     0xe6,0x0                                                                                        
000cc8   0e0f     MOVLW     0xf                                                                                             
000cca   6ee6     MOVWF     0xe6,0x0                                                                                        
000ccc   ecc6     CALL      0xf8c,0x0                                                                                       
000cce   f007                                                                                                               
000cd0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cd2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cd4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cd6   0e01     MOVLW     0x1                ClearArray((byte*)&usb_alt_intf,MAX_NUM_INT);                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cd8   6ee6     MOVWF     0xe6,0x0                                                                                        
000cda   0efd     MOVLW     0xfd                                                                                            
000cdc   6ee6     MOVWF     0xe6,0x0                                                                                        
000cde   0e00     MOVLW     0x0                                                                                             
000ce0   6ee6     MOVWF     0xe6,0x0                                                                                        
000ce2   ecc6     CALL      0xf8c,0x0                                                                                       
000ce4   f007                                                                                                               
000ce6   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000ce8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cea   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000cec   c422     MOVFF     0x422,0xfc         usb_active_cfg = SetupPkt.bCfgValue;                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cee   f0fc                                                                                                               
000cf0   0104     MOVLB     0x4                if(SetupPkt.bCfgValue == 0)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cf2   5122     MOVF      0x22,0x0,0x1                                                                                    
000cf4   e104     BNZ       0xcfe                                                                                           
000cf6   0100     MOVLB     0x0                    usb_device_state = ADDRESS_STATE;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cf8   0e05     MOVLW     0x5                                                                                             
000cfa   6ffa     MOVWF     0xfa,0x1                                                                                        
000cfc   0012     RETURN    0x0                else                                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000cfe   0100     MOVLB     0x0                    usb_device_state = CONFIGURED_STATE;                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d00   0e06     MOVLW     0x6                                                                                             
000d02   6ffa     MOVWF     0xfa,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   /* Modifiable Section */                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   #if defined(USB_USE_CDC)                // See autofiles\usbcfg.h        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d04   efe3     GOTO      0x5c6                  CDCInitEP();                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d06   f002                                                                                                               
                                                   #endif                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   /* End modifiable section */                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                               }//end if(SetupPkt.bcfgValue == 0)                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           }//end USBStdSetCfgHandler                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Function:        void USBStdGetStatusHandler(void)                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard GET_STATUS request         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdGetStatusHandler(void)                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d08   0104     MOVLB     0x4                CtrlTrfData._byte0 = 0;                         // Initialize content        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d0a   6b28     CLRF      0x28,0x1                                                                                        
000d0c   6b29     CLRF      0x29,0x1           CtrlTrfData._byte1 = 0;                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d0e   0104     MOVLB     0x4                switch(SetupPkt.Recipient)                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d10   5120     MOVF      0x20,0x0,0x1                                                                                    
000d12   0b1f     ANDLW     0x1f                                                                                            
000d14   0a02     XORLW     0x2                                                                                             
000d16   e013     BZ        0xd3e                                                                                           
000d18   0a03     XORLW     0x3                                                                                             
000d1a   e00d     BZ        0xd36                                                                                           
000d1c   0a01     XORLW     0x1                                                                                             
000d1e   e131     BNZ       0xd82                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case RCPT_DEV:                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d20   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d22   0e01     MOVLW     0x1                                                                                             
000d24   6f26     MOVWF     0x26,0x1                                                                                        
                                                       /*                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                        * _byte0: bit0: Self-Powered Status [0] Bus-Powered [1] Self-Powered C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                        *         bit1: RemoteWakeup        [0] Disabled    [1] Enabled     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                        */                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                       if(self_power == 1)                     // self_power defined in io_cfg.h C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d26   0104     MOVLB     0x4                            CtrlTrfData._byte0|=0b000000001;    // Set bit0                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d28   8128     BSF       0x28,0x0,0x1                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d2a   0100     MOVLB     0x0                        if(usb_stat.RemoteWakeup == 1)          // usb_stat defined in usbmmap.c C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d2c   a1fb     BTFSS     0xfb,0x0,0x1                                                                                    
000d2e   d029     BRA       0xd82                                                                                           
000d30   0104     MOVLB     0x4                            CtrlTrfData._byte0|=0b00000010;     // Set bit1                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d32   8328     BSF       0x28,0x1,0x1                                                                                    
000d34   d026     BRA       0xd82                      break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case RCPT_INTF:                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d36   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;     // No data to update         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d38   0e01     MOVLW     0x1                                                                                             
000d3a   6f26     MOVWF     0x26,0x1                                                                                        
000d3c   d022     BRA       0xd82                      break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   case RCPT_EP:                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d3e   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_USB9;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d40   0e01     MOVLW     0x1                                                                                             
000d42   6f26     MOVWF     0x26,0x1                                                                                        
                                                       /*                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                        * _byte0: bit0: Halt Status [0] Not Halted [1] Halted               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                        */                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d44   0104     MOVLB     0x4                        pDst.bRam = (byte*)&ep0Bo+(SetupPkt.EPNum*8)+(SetupPkt.EPDir*4);     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d46   5124     MOVF      0x24,0x0,0x1                                                                                    
000d48   0b0f     ANDLW     0xf                                                                                             
000d4a   0d08     MULLW     0x8                                                                                             
000d4c   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000d4e   6a03     CLRF      0x3,0x0                                                                                         
000d50   0f00     ADDLW     0x0                                                                                             
000d52   6e02     MOVWF     0x2,0x0                                                                                         
000d54   0e04     MOVLW     0x4                                                                                             
000d56   2203     ADDWFC    0x3,0x1,0x0                                                                                     
000d58   5124     MOVF      0x24,0x0,0x1                                                                                    
000d5a   0b80     ANDLW     0x80                                                                                            
000d5c   e001     BZ        0xd60                                                                                           
000d5e   0e01     MOVLW     0x1                                                                                             
000d60   0d04     MULLW     0x4                                                                                             
000d62   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000d64   0101     MOVLB     0x1                                                                                             
000d66   2402     ADDWF     0x2,0x0,0x0                                                                                     
000d68   6f29     MOVWF     0x29,0x1                                                                                        
000d6a   0e00     MOVLW     0x0                                                                                             
000d6c   2003     ADDWFC    0x3,0x0,0x0                                                                                     
000d6e   6f2a     MOVWF     0x2a,0x1                                                                                        
000d70   c129     MOVFF     0x129,0xfe9                if(*pDst.bRam & _BSTALL)    // Use _BSTALL as a bit mask             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d72   ffe9                                                                                                               
000d74   6eea     MOVWF     0xea,0x0                                                                                        
000d76   50ef     MOVF      0xef,0x0,0x0                                                                                    
000d78   0b04     ANDLW     0x4                                                                                             
000d7a   e003     BZ        0xd82                                                                                           
000d7c   0104     MOVLB     0x4                            CtrlTrfData._byte0=0x01;// Set bit0                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d7e   0e01     MOVLW     0x1                                                                                             
000d80   6f28     MOVWF     0x28,0x1                                                                                        
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                               }//end switch                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d82   0101     MOVLB     0x1                if(ctrl_trf_session_owner == MUID_USB9)                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d84   0526     DECF      0x26,0x0,0x1                                                                                    
000d86   e10a     BNZ       0xd9c                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d88   0101     MOVLB     0x1                    pSrc.bRam = (byte*)&CtrlTrfData;            // Set Source                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d8a   0e28     MOVLW     0x28                                                                                            
000d8c   6f27     MOVWF     0x27,0x1                                                                                        
000d8e   0e04     MOVLW     0x4                                                                                             
000d90   6f28     MOVWF     0x28,0x1                                                                                        
000d92   0100     MOVLB     0x0                    usb_stat.ctrl_trf_mem = _RAM;               // Set memory type           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d94   93fb     BCF       0xfb,0x1,0x1                                                                                    
000d96   0101     MOVLB     0x1                    LSB(wCount) = 2;                            // Set data count            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d98   0e02     MOVLW     0x2                                                                                             
000d9a   6f2b     MOVWF     0x2b,0x1                                                                                        
                                               }//end if(...)                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d9c   0012     RETURN    0x0            }//end USBStdGetStatusHandler                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Function:        void USBStdFeatureReqHandler(void)                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Overview:        This routine handles the standard SET & CLEAR FEATURES       C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                  requests                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           void USBStdFeatureReqHandler(void)                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000d9e   0104     MOVLB     0x4                if((SetupPkt.bFeature == DEVICE_REMOTE_WAKEUP)&&                             C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000da0   0522     DECF      0x22,0x0,0x1                                                                                    
000da2   e110     BNZ       0xdc4                 (SetupPkt.Recipient == RCPT_DEV))                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000da4   5120     MOVF      0x20,0x0,0x1                                                                                    
000da6   0b1f     ANDLW     0x1f                                                                                            
000da8   0900     IORLW     0x0                                                                                             
000daa   e10c     BNZ       0xdc4                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dac   0101     MOVLB     0x1                    ctrl_trf_session_owner = MUID_USB9;                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dae   0e01     MOVLW     0x1                                                                                             
000db0   6f26     MOVWF     0x26,0x1                                                                                        
000db2   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == SET_FEATURE)                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000db4   0104     MOVLB     0x4                                                                                             
000db6   5d21     SUBWF     0x21,0x0,0x1                                                                                    
000db8   e103     BNZ       0xdc0                                                                                           
000dba   0100     MOVLB     0x0                        usb_stat.RemoteWakeup = 1;                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dbc   81fb     BSF       0xfb,0x0,0x1                                                                                    
000dbe   d002     BRA       0xdc4                  else                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dc0   0100     MOVLB     0x0                        usb_stat.RemoteWakeup = 0;                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dc2   91fb     BCF       0xfb,0x0,0x1                                                                                    
                                               }//end if                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dc4   0104     MOVLB     0x4                if((SetupPkt.bFeature == ENDPOINT_HALT)&&                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dc6   5122     MOVF      0x22,0x0,0x1                                                                                    
000dc8   e13a     BNZ       0xe3e                 (SetupPkt.Recipient == RCPT_EP)&&                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dca   5120     MOVF      0x20,0x0,0x1                                                                                    
000dcc   0b1f     ANDLW     0x1f                                                                                            
000dce   0802     SUBLW     0x2                                                                                             
000dd0   e136     BNZ       0xe3e                                                                                           
000dd2   5124     MOVF      0x24,0x0,0x1          (SetupPkt.EPNum != 0))                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dd4   0b0f     ANDLW     0xf                                                                                             
000dd6   0900     IORLW     0x0                                                                                             
000dd8   e032     BZ        0xe3e                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000dda   0101     MOVLB     0x1                    ctrl_trf_session_owner = MUID_USB9;                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000ddc   0e01     MOVLW     0x1                                                                                             
000dde   6f26     MOVWF     0x26,0x1                                                                                        
                                                   /* Must do address calculation here */                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000de0   0104     MOVLB     0x4                    pDst.bRam = (byte*)&ep0Bo+(SetupPkt.EPNum*8)+(SetupPkt.EPDir*4);         C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000de2   5124     MOVF      0x24,0x0,0x1                                                                                    
000de4   0b0f     ANDLW     0xf                                                                                             
000de6   0d08     MULLW     0x8                                                                                             
000de8   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000dea   6a03     CLRF      0x3,0x0                                                                                         
000dec   0f00     ADDLW     0x0                                                                                             
000dee   6e02     MOVWF     0x2,0x0                                                                                         
000df0   0e04     MOVLW     0x4                                                                                             
000df2   2203     ADDWFC    0x3,0x1,0x0                                                                                     
000df4   5124     MOVF      0x24,0x0,0x1                                                                                    
000df6   0b80     ANDLW     0x80                                                                                            
000df8   e001     BZ        0xdfc                                                                                           
000dfa   0e01     MOVLW     0x1                                                                                             
000dfc   0d04     MULLW     0x4                                                                                             
000dfe   50f3     MOVF      0xf3,0x0,0x0                                                                                    
000e00   0101     MOVLB     0x1                                                                                             
000e02   2402     ADDWF     0x2,0x0,0x0                                                                                     
000e04   6f29     MOVWF     0x29,0x1                                                                                        
000e06   0e00     MOVLW     0x0                                                                                             
000e08   2003     ADDWFC    0x3,0x0,0x0                                                                                     
000e0a   6f2a     MOVWF     0x2a,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e0c   0e03     MOVLW     0x3                    if(SetupPkt.bRequest == SET_FEATURE)                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e0e   0104     MOVLB     0x4                                                                                             
000e10   5d21     SUBWF     0x21,0x0,0x1                                                                                    
000e12   e107     BNZ       0xe22                                                                                           
000e14   0e84     MOVLW     0x84                       *pDst.bRam = _USIE|_BSTALL;                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e16   c129     MOVFF     0x129,0xfe9                                                                                     
000e18   ffe9                                                                                                               
000e1a   c12a     MOVFF     0x12a,0xfea                                                                                     
000e1c   ffea                                                                                                               
000e1e   6eef     MOVWF     0xef,0x0                                                                                        
000e20   0012     RETURN    0x0                    else                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e22   af24     BTFSS     0x24,0x7,0x1               if(SetupPkt.EPDir == 1) // IN                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e24   d006     BRA       0xe32                                                                                           
000e26   c129     MOVFF     0x129,0xfe9                    *pDst.bRam = _UCPU;                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e28   ffe9                                                                                                               
000e2a   c12a     MOVFF     0x12a,0xfea                                                                                     
000e2c   ffea                                                                                                               
000e2e   6aef     CLRF      0xef,0x0                                                                                        
000e30   0012     RETURN    0x0                        else                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e32   0e88     MOVLW     0x88                           *pDst.bRam = _USIE|_DAT0|_DTSEN;                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e34   c129     MOVFF     0x129,0xfe9                                                                                     
000e36   ffe9                                                                                                               
000e38   c12a     MOVFF     0x12a,0xfea                                                                                     
000e3a   ffea                                                                                                               
000e3c   6eef     MOVWF     0xef,0x0                                                                                        
                                                   }//end if                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                               }//end if                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
000e3e   0012     RETURN    0x0            }//end USBStdFeatureReqHandler                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /** EOF usb9.c ***************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usb9\usb9.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * FileName:        usbdsc.c                                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * -usbdsc.c-                                                                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * This file contains the USB descriptor information. It is used                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * in conjunction with the usbdsc.h file. When a descriptor is added             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * or removed from the main configuration descriptor, i.e. CFG01,                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * the user must also change the descriptor structure defined in                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * the usbdsc.h file. The structure is used to calculate the                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * descriptor size, i.e. sizeof(CFG01).                                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * A typical configuration descriptor consists of:                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * At least one configuration descriptor (USB_CFG_DSC)                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * One or more interface descriptors (USB_INTF_DSC)                              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * One or more endpoint descriptors (USB_EP_DSC)                                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Naming Convention:                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * To resolve ambiguity, the naming convention are as followed:                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * - USB_CFG_DSC type should be named cdxx, where xx is the                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *   configuration number. This number should match the actual                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *   index value of this configuration.                                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * - USB_INTF_DSC type should be named i<yy>a<zz>, where yy is the               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *   interface number and zz is the alternate interface number.                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * - USB_EP_DSC type should be named ep<##><d>_i<yy>a<zz>, where                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *   ## is the endpoint number and d is the direction of transfer.               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *   The interface name should also be listed as a suffix to identify            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *   which interface does the endpoint belong to.                                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Example:                                                                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * If a device has one configuration, two interfaces; interface 0                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * has two endpoints (in and out), and interface 1 has one endpoint(in).         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Then the CFG01 structure in the usbdsc.h should be:                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * #define CFG01 rom struct                            \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * {   USB_CFG_DSC             cd01;                   \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *     USB_INTF_DSC            i00a00;                 \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *     USB_EP_DSC              ep01o_i00a00;           \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *     USB_EP_DSC              ep01i_i00a00;           \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *     USB_INTF_DSC            i01a00;                 \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *     USB_EP_DSC              ep02i_i01a00;           \                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * } cfg01                                                                       C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Note the hierarchy of the descriptors above, it follows the USB               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * specification requirement. All endpoints belonging to an interface            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * should be listed immediately after that interface.                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Filling in the descriptor values in the usbdsc.c file:                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Most items should be self-explanatory, however, a few will be                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * explained for clarification.                                                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * [Configuration Descriptor(USB_CFG_DSC)]                                       C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The configuration attribute must always have the _DEFAULT                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * definition at the minimum. Additional options can be ORed                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * to the _DEFAULT attribute. Available options are _SELF and _RWU.              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * These definitions are defined in the usbdefs_std_dsc.h file. The              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * _SELF tells the USB host that this device is self-powered. The                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * _RWU tells the USB host that this device supports Remote Wakeup.              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * [Endpoint Descriptor(USB_EP_DSC)]                                             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Assume the following example:                                                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * sizeof(USB_EP_DSC),DSC_EP,_EP01_OUT,_BULK,64,0x00                             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The first two parameters are self-explanatory. They specify the               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * length of this endpoint descriptor (7) and the descriptor type.               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The next parameter identifies the endpoint, the definitions are               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * defined in usbdefs_std_dsc.h and has the following naming                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * convention:                                                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * _EP<##>_<dir>                                                                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * where ## is the endpoint number and dir is the direction of                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * transfer. The dir has the value of either 'OUT' or 'IN'.                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The next parameter identifies the type of the endpoint. Available             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * options are _BULK, _INT, _ISO, and _CTRL. The _CTRL is not                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * typically used because the default control transfer endpoint is               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * not defined in the USB descriptors. When _ISO option is used,                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * addition options can be ORed to _ISO. Example:                                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * _ISO|_AD|_FE                                                                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * This describes the endpoint as an isochronous pipe with adaptive              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * and feedback attributes. See usbdefs_std_dsc.h and the USB                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * specification for details. The next parameter defines the size of             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * the endpoint. The last parameter in the polling interval.                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Adding a USB String                                                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * A string descriptor array should have the following format:                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * rom struct{byte bLength;byte bDscType;word string[size];}sdxxx={              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * sizeof(sdxxx),DSC_STR,<text>};                                                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The above structure provides a means for the C compiler to                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * calculate the length of string descriptor sdxxx, where xxx is the             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * index number. The first two bytes of the descriptor are descriptor            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * length and type. The rest <text> are string texts which must be               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * in the unicode format. The unicode format is achieved by declaring            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * each character as a word type. The whole text string is declared              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * as a word array with the number of characters equals to <size>.               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * <size> has to be manually counted and entered into the array                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * declaration. Let's study this through an example:                             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * if the string is "USB" , then the string descriptor should be:                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * (Using index 02)                                                              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * rom struct{byte bLength;byte bDscType;word string[3];}sd002={                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * sizeof(sd002),DSC_STR,'U','S','B'};                                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * A USB project may have multiple strings and the firmware supports             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * the management of multiple strings through a look-up table.                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The look-up table is defined as:                                              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The above declaration has 3 strings, sd000, sd001, and sd002.                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Strings can be removed or added. sd000 is a specialized string                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * descriptor. It defines the language code, usually this is                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * US English (0x0409). The index of the string must match the index             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * position of the USB_SD_Ptr array, &sd000 must be in position                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * USB_SD_Ptr[0], &sd001 must be in position USB_SD_Ptr[1] and so on.            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The look-up table USB_SD_Ptr is used by the get string handler                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * function in usb9.c.                                                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * -------------------------------------------------------------------           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The look-up table scheme also applies to the configuration                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * descriptor. A USB device may have multiple configuration                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * descriptors, i.e. CFG01, CFG02, etc. To add a configuration                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * descriptor, user must implement a structure similar to CFG01.                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * The next step is to add the configuration descriptor name, i.e.               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * cfg01, cfg02,.., to the look-up table USB_CD_Ptr. USB_CD_Ptr[0]               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * is a dummy place holder since configuration 0 is the un-configured            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * state according to the definition in the USB specification.                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Descriptor specific type definitions are defined in:                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * system\usb\usbdefs\usbdefs_std_dsc.h                                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * Configuration information is defined in:                                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            * autofiles\usbcfg.h                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /** I N C L U D E S *************************************************/           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /** C O N S T A N T S ************************************************/          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           #pragma romdata                                                                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /* Device Descriptor */                                                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom USB_DEV_DSC device_dsc=                                                      C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_DEV_DSC),    // Size of this descriptor in bytes                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               DSC_DEV,                // DEVICE descriptor type                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x0200,                 // USB Spec Release Number in BCD format             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               CDC_DEVICE,             // Class Code                                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x00,                   // Subclass code                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x00,                   // Protocol code                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               EP0_BUFF_SIZE,          // Max packet size for EP0, see usbcfg.h             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x04D8,                 // Vendor ID                                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x000A,                 // Product ID: CDC RS-232 Emulation Demo             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x0000,                 // Device release number in BCD format               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x01,                   // Manufacturer string index                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x02,                   // Product string index                              C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x00,                   // Device serial number string index                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0x01                    // Number of possible configurations                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           };                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /* Configuration 1 Descriptor */                                                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           CFG01=                                                                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               /* Configuration Descriptor */                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_CFG_DSC),    // Size of this descriptor in bytes                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               DSC_CFG,                // CONFIGURATION descriptor type                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(cfg01),          // Total length of data for this cfg                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               2,                      // Number of interfaces in this cfg                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               1,                      // Index value of this configuration                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Configuration string index                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               _DEFAULT,               // Attributes, see usbdefs_std_dsc.h                 C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               50,                     // Max power consumption (2X mA)                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               /* Interface Descriptor */                                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               DSC_INTF,               // INTERFACE descriptor type                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Interface Number                                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Alternate Setting Number                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               1,                      // Number of endpoints in this intf                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               COMM_INTF,              // Class code                                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               ABSTRACT_CONTROL_MODEL, // Subclass code                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               V25TER,                 // Protocol code                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Interface string index                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               /* CDC Class-Specific Descriptors */                                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_CDC_HEADER_FN_DSC),CS_INTERFACE,DSC_FN_HEADER,0x0110,             C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_CDC_ACM_FN_DSC),CS_INTERFACE,DSC_FN_ACM,0x02,                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_CDC_UNION_FN_DSC),CS_INTERFACE,DSC_FN_UNION,CDC_COMM_INTF_ID,CDC_DATA_INTF_ID, C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_CDC_CALL_MGT_FN_DSC),CS_INTERFACE,DSC_FN_CALL_MGT,0x00,CDC_DATA_INTF_ID, C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               /* Endpoint Descriptor */                                                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_EP_DSC),DSC_EP,_EP02_IN,_INT,CDC_INT_EP_SIZE,0x02,                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               /* Interface Descriptor */                                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_INTF_DSC),   // Size of this descriptor in bytes                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               DSC_INTF,               // INTERFACE descriptor type                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               1,                      // Interface Number                                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Alternate Setting Number                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               2,                      // Number of endpoints in this intf                  C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               DATA_INTF,              // Class code                                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Subclass code                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               NO_PROTOCOL,            // Protocol code                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               0,                      // Interface string index                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               /* Endpoint Descriptors */                                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_EP_DSC),DSC_EP,_EP03_OUT,_BULK,CDC_BULK_OUT_EP_SIZE,0x00,         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               sizeof(USB_EP_DSC),DSC_EP,_EP03_IN,_BULK,CDC_BULK_IN_EP_SIZE,0x00            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           };                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[1];}sd000={                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           sizeof(sd000),DSC_STR,0x0409};                                                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[25];}sd001={                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           sizeof(sd001),DSC_STR,                                                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           'M','i','c','r','o','c','h','i','p',' ',                                         C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           'T','e','c','h','n','o','l','o','g','y',' ','I','n','c','.'};                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom struct{byte bLength;byte bDscType;word string[25];}sd002={                   C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           sizeof(sd002),DSC_STR,                                                           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           'C','D','C',' ','R','S','-','2','3','2',' ',                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           'E','m','u','l','a','t','i','o','n',' ','D','e','m','o'};                        C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom const unsigned char *rom USB_CD_Ptr[]={&cfg01,&cfg01};                       C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom const unsigned char *rom USB_SD_Ptr[]={&sd000,&sd001,&sd002};                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           rom pFunc ClassReqHandler[1]=                                                    C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                               &USBCheckCDCRequest                                                          C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           };                                                                               C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /** EOF usbdsc.c ****************************************************/           C:\MCHPFSUSB\fw\Cdc\autofiles\usbdsc.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * FileName:        usbctrltrf.c                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           #include <p18f2550.h>                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /** V A R I A B L E S ********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           byte ctrl_trf_state;                // Control Transfer State                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           byte ctrl_trf_session_owner;        // Current transfer session owner            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           POINTER pSrc;                       // Data source pointer                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           POINTER pDst;                       // Data destination pointer                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           WORD wCount;                        // Data counter                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfSetupHandler(void);                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfOutHandler(void);                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfInHandler(void);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlEPService(void)                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    USTAT is loaded with a valid endpoint address.               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        USBCtrlEPService checks for three transaction types that     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  it knows how to service and services them:                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. EP0 SETUP                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. EP0 OUT                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. EP0 IN                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  It ignores all other types (i.e. EP1, EP2, etc.)             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlEPService(void)                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000868   506c     MOVF      0x6c,0x0,0x0       if(USTAT == EP00_OUT)                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00086a   e002     BZ        0x870                                                                                           
00086c   0e00     MOVLW     0x0                                                                                             
00086e   d001     BRA       0x872                                                                                           
000870   0e01     MOVLW     0x1                                                                                             
000872   0900     IORLW     0x0                                                                                             
000874   e00b     BZ        0x88c                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000876   0104     MOVLB     0x4                    if(ep0Bo.Stat.PID == SETUP_TOKEN)           // EP0 SETUP                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000878   5100     MOVF      0x0,0x0,0x1                                                                                     
00087a   0b3c     ANDLW     0x3c                                                                                            
00087c   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
00087e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000880   080d     SUBLW     0xd                                                                                             
000882   e102     BNZ       0x888                                                                                           
000884   ef4f     GOTO      0x89e                      USBCtrlTrfSetupHandler();                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000886   f004                                                                                                               
                                                   else                                        // EP0 OUT                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000888   ef84     GOTO      0x908                      USBCtrlTrfOutHandler();                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00088a   f004                                                                                                               
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00088c   506c     MOVF      0x6c,0x0,0x0       else if(USTAT == EP00_IN)                       // EP0 IN                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00088e   e002     BZ        0x894                                                                                           
000890   0e00     MOVLW     0x0                                                                                             
000892   d001     BRA       0x896                                                                                           
000894   0e01     MOVLW     0x1                                                                                             
000896   0904     IORLW     0x4                                                                                             
000898   e001     BZ        0x89c                                                                                           
00089a   d845     RCALL     0x926                  USBCtrlTrfInHandler();                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00089c   0012     RETURN    0x0            }//end USBCtrlEPService                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfSetupHandler(void)                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    SetupPkt buffer is loaded with valid USB Setup Data          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine is a task dispatcher and has 3 stages.          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. It initializes the control transfer state machine.        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. It calls on each of the module that may know how to       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     service the Setup Request from the host.                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     Module Example: USB9, HID, CDC, MSD, ...                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     As new classes are added, ClassReqHandler table in        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     usbdsc.c should be updated to call all available          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     class handlers.                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. Once each of the modules has had a chance to check if     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     it is responsible for servicing the request, stage 3      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     then checks direction of the transfer to determine how    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     to prepare EP0 for the control transfer.                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     Refer to USBCtrlEPServiceComplete() for more details.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            Microchip USB Firmware has three different states for        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  the control transfer state machine:                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  1. WAIT_SETUP                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  2. CTRL_TRF_TX                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  3. CTRL_TRF_RX                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Refer to firmware manual to find out how one state           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  is transitioned to another.                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  A Control Transfer is composed of many USB transactions.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  When transferring data over multiple transactions,           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  it is important to keep track of data source, data           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  destination, and data count. These three parameters are      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  stored in pSrc,pDst, and wCount. A flag is used to           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  note if the data source is from ROM or RAM.                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00089e   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfSetupHandler(void)                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008a0   ffe6                                                                                                               
0008a2   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0008a4   ffd9                                                                                                               
0008a6   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               byte i;                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 1 */                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008a8   0101     MOVLB     0x1                ctrl_trf_state = WAIT_SETUP;                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008aa   6b25     CLRF      0x25,0x1                                                                                        
0008ac   6b26     CLRF      0x26,0x1           ctrl_trf_session_owner = MUID_NULL;     // Set owner to NULL                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008ae   6b2b     CLRF      0x2b,0x1           wCount._word = 0;                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008b0   6b2c     CLRF      0x2c,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 2 */                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008b2   ecab     CALL      0xb56,0x0          USBCheckStdRequest();                   // See system\usb9\usb9.c            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008b4   f005                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008b6   6adf     CLRF      0xdf,0x0           for(i=0;i < (sizeof(ClassReqHandler)/sizeof(pFunc));i++)                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008b8   50df     MOVF      0xdf,0x0,0x0                                                                                    
0008ba   6e02     MOVWF     0x2,0x0                                                                                         
0008bc   6a03     CLRF      0x3,0x0                                                                                         
0008be   0e01     MOVLW     0x1                                                                                             
0008c0   5c02     SUBWF     0x2,0x0,0x0                                                                                     
0008c2   0e00     MOVLW     0x0                                                                                             
0008c4   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0008c6   e21a     BC        0x8fc                                                                                           
0008f8   2adf     INCF      0xdf,0x1,0x0                                                                                    
0008fa   d7de     BRA       0x8b8                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008c8   0101     MOVLB     0x1                    if(ctrl_trf_session_owner != MUID_NULL)break;                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008ca   5126     MOVF      0x26,0x0,0x1                                                                                    
0008cc   e117     BNZ       0x8fc                                                                                           
0008ce   6af7     CLRF      0xf7,0x0               ClassReqHandler[i]();               // See autofiles\usbdsc.c            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008d0   34df     RLCF      0xdf,0x0,0x0                                                                                    
0008d2   0bfe     ANDLW     0xfe                                                                                            
0008d4   36f7     RLCF      0xf7,0x1,0x0                                                                                    
0008d6   6ef6     MOVWF     0xf6,0x0                                                                                        
0008d8   0e81     MOVLW     0x81                                                                                            
0008da   26f6     ADDWF     0xf6,0x1,0x0                                                                                    
0008dc   0e10     MOVLW     0x10                                                                                            
0008de   22f7     ADDWFC    0xf7,0x1,0x0                                                                                    
0008e0   0009     TBLRDPOSTINC                                                                                              
0008e2   cff5     MOVFF     0xff5,0x2                                                                                       
0008e4   f002                                                                                                               
0008e6   0008     TBLRD                                                                                                     
0008e8   cff5     MOVFF     0xff5,0x3                                                                                       
0008ea   f003                                                                                                               
0008ec   d004     BRA       0x8f6                                                                                           
0008ee   c003     MOVFF     0x3,0xffa                                                                                       
0008f0   fffa                                                                                                               
0008f2   5002     MOVF      0x2,0x0,0x0                                                                                     
0008f4   6ef9     MOVWF     0xf9,0x0                                                                                        
0008f6   dffb     RCALL     0x8ee                                                                                           
                                               }//end while                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /* Stage 3 */                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008fc   d8d9     RCALL     0xab0              USBCtrlEPServiceComplete();                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0008fe   52e5     MOVF      0xe5,0x1,0x0   }//end USBCtrlTrfSetupHandler                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000900   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000902   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000904   ffd9                                                                                                               
000906   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfOutHandler(void)                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine handles an OUT transaction according to         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  which control transfer state is currently active.            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            Note that if the the control transfer was from               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  host to device, the session owner should be notified         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  at the end of each OUT transaction to service the            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  received data.                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfOutHandler(void)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000908   0e02     MOVLW     0x2                if(ctrl_trf_state == CTRL_TRF_RX)                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00090a   0101     MOVLB     0x1                                                                                             
00090c   5d25     SUBWF     0x25,0x0,0x1                                                                                    
00090e   e109     BNZ       0x922                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000910   d892     RCALL     0xa36                  USBCtrlTrfRxService();                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    * Don't have to worry about overwriting _KEEP bit                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    * because if _KEEP was set, TRNIF would not have been                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    * generated in the first place.                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000912   0104     MOVLB     0x4                    if(ep0Bo.Stat.DTS == 0)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000914   bd00     BTFSC     0x0,0x6,0x1                                                                                     
000916   d002     BRA       0x91c                                                                                           
000918   0ec8     MOVLW     0xc8                       ep0Bo.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00091a   d001     BRA       0x91e                  else                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00091c   0e88     MOVLW     0x88                       ep0Bo.Stat._byte = _USIE|_DAT0|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00091e   6f00     MOVWF     0x0,0x1                                                                                         
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000920   0012     RETURN    0x0                else    // CTRL_TRF_TX                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000922   ef9d     GOTO      0xb3a                  USBPrepareForNextSetupTrf();                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000924   f005                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           }//end USBCtrlTrfOutHandler                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfInHandler(void)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine handles an IN transaction according to          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  which control transfer state is currently active.            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            A Set Address Request must not change the acutal address     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  of the device until the completion of the control            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer. The end of the control transfer for Set Address    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Request is an IN transaction. Therefore it is necessary      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  to service this unique situation when the condition is       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  right. Macro mUSBCheckAdrPendingState is defined in          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  usb9.h and its function is to specifically service this      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  event.                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlTrfInHandler(void)                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000926   0e04     MOVLW     0x4                mUSBCheckAdrPendingState();         // Must check if in ADR_PENDING_STATE    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000928   0100     MOVLB     0x0                                                                                             
00092a   5dfa     SUBWF     0xfa,0x0,0x1                                                                                    
00092c   e109     BNZ       0x940                                                                                           
00092e   c422     MOVFF     0x422,0xf6e                                                                                     
000930   ff6e                                                                                                               
000932   506e     MOVF      0x6e,0x0,0x0                                                                                    
000934   0800     SUBLW     0x0                                                                                             
000936   e202     BC        0x93c                                                                                           
000938   0e05     MOVLW     0x5                                                                                             
00093a   d001     BRA       0x93e                                                                                           
00093c   0e03     MOVLW     0x3                                                                                             
00093e   6ffa     MOVWF     0xfa,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000940   0101     MOVLB     0x1                if(ctrl_trf_state == CTRL_TRF_TX)                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000942   0525     DECF      0x25,0x0,0x1                                                                                    
000944   e109     BNZ       0x958                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000946   d80a     RCALL     0x95c                  USBCtrlTrfTxService();                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000948   0104     MOVLB     0x4                    if(ep0Bi.Stat.DTS == 0)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00094a   bd04     BTFSC     0x4,0x6,0x1                                                                                     
00094c   d002     BRA       0x952                                                                                           
00094e   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000950   d001     BRA       0x954                  else                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000952   0e88     MOVLW     0x88                       ep0Bi.Stat._byte = _USIE|_DAT0|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000954   6f04     MOVWF     0x4,0x1                                                                                         
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000956   0012     RETURN    0x0                else // CTRL_TRF_RX                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000958   ef9d     GOTO      0xb3a                  USBPrepareForNextSetupTrf();                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00095a   f005                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           }//end USBCtrlTrfInHandler                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfTxService(void)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    pSrc, wCount, and usb_stat.ctrl_trf_mem are setup properly.  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine should be called from only two places.          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  One from USBCtrlEPServiceComplete() and one from             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  USBCtrlTrfInHandler(). It takes care of managing a           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer over multiple USB transactions.                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            This routine works with isochronous endpoint larger than     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  256 bytes and is shown here as an example of how to deal     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  with BC9 and BC8. In reality, a control endpoint can never   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  be larger than 64 bytes.                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00095c   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfTxService(void)                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00095e   ffe6                                                                                                               
000960   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000962   ffd9                                                                                                               
000964   0e02     MOVLW     0x2                                                                                             
000966   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               WORD byte_to_send;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                * First, have to figure out how many byte of data to send.                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000968   0101     MOVLB     0x1                if(wCount._word < EP0_BUFF_SIZE)                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00096a   0e08     MOVLW     0x8                                                                                             
00096c   5d2b     SUBWF     0x2b,0x0,0x1                                                                                    
00096e   0e00     MOVLW     0x0                                                                                             
000970   592c     SUBWFB    0x2c,0x0,0x1                                                                                    
000972   e205     BC        0x97e                                                                                           
000974   c12b     MOVFF     0x12b,0xfde            byte_to_send._word = wCount._word;                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000976   ffde                                                                                                               
000978   c12c     MOVFF     0x12c,0xfdd                                                                                     
00097a   ffdd                                                                                                               
00097c   d003     BRA       0x984              else                                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00097e   0e08     MOVLW     0x8                    byte_to_send._word = EP0_BUFF_SIZE;                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000980   6ede     MOVWF     0xde,0x0                                                                                        
000982   6add     CLRF      0xdd,0x0                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                * Next, load the number of bytes to send to BC9..0 in buffer descriptor     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000984   0104     MOVLB     0x4                ep0Bi.Stat.BC9 = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000986   9304     BCF       0x4,0x1,0x1                                                                                     
000988   9104     BCF       0x4,0x0,0x1        ep0Bi.Stat.BC8 = 0;                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00098a   0e01     MOVLW     0x1                ep0Bi.Stat._byte |= MSB(byte_to_send);                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
00098c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00098e   1304     IORWF     0x4,0x1,0x1                                                                                     
000990   cfdf     MOVFF     0xfdf,0x405        ep0Bi.Cnt = LSB(byte_to_send);                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000992   f405                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                * Subtract the number of bytes just about to be sent from the total.        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000994   0e00     MOVLW     0x0                wCount._word = wCount._word - byte_to_send._word;                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000996   50db     MOVF      0xdb,0x0,0x0                                                                                    
000998   0101     MOVLB     0x1                                                                                             
00099a   5f2b     SUBWF     0x2b,0x1,0x1                                                                                    
00099c   0e01     MOVLW     0x1                                                                                             
00099e   50db     MOVF      0xdb,0x0,0x0                                                                                    
0009a0   5b2c     SUBWFB    0x2c,0x1,0x1                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009a2   0e28     MOVLW     0x28               pDst.bRam = (byte*)&CtrlTrfData;        // Set destination pointer           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009a4   6f29     MOVWF     0x29,0x1                                                                                        
0009a6   0e04     MOVLW     0x4                                                                                             
0009a8   6f2a     MOVWF     0x2a,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009aa   0100     MOVLB     0x0                if(usb_stat.ctrl_trf_mem == _ROM)       // Determine type of memory source   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009ac   a3fb     BTFSS     0xfb,0x1,0x1                                                                                    
0009ae   d01d     BRA       0x9ea                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009b0   cfd9     MOVFF     0xfd9,0xfe9            while(byte_to_send._word)                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009b2   ffe9                                                                                                               
0009b4   cfda     MOVFF     0xfda,0xfea                                                                                     
0009b6   ffea                                                                                                               
0009b8   50ee     MOVF      0xee,0x0,0x0                                                                                    
0009ba   10ed     IORWF     0xed,0x0,0x0                                                                                    
0009bc   e032     BZ        0xa22                                                                                           
0009e8   d7e3     BRA       0x9b0                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009be   c127     MOVFF     0x127,0xff6                *pDst.bRam = *pSrc.bRom;                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009c0   fff6                                                                                                               
0009c2   c128     MOVFF     0x128,0xff7                                                                                     
0009c4   fff7                                                                                                               
0009c6   0008     TBLRD                                                                                                     
0009c8   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0009ca   c129     MOVFF     0x129,0xfe9                                                                                     
0009cc   ffe9                                                                                                               
0009ce   c12a     MOVFF     0x12a,0xfea                                                                                     
0009d0   ffea                                                                                                               
0009d2   6eef     MOVWF     0xef,0x0                                                                                        
0009d4   0101     MOVLB     0x1                        pDst.bRam++;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009d6   2b29     INCF      0x29,0x1,0x1                                                                                    
0009d8   0e00     MOVLW     0x0                                                                                             
0009da   232a     ADDWFC    0x2a,0x1,0x1                                                                                    
0009dc   2b27     INCF      0x27,0x1,0x1               pSrc.bRom++;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009de   2328     ADDWFC    0x28,0x1,0x1                                                                                    
0009e0   06df     DECF      0xdf,0x1,0x0               byte_to_send._word--;                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009e2   0e01     MOVLW     0x1                                                                                             
0009e4   e2e5     BC        0x9b0                                                                                           
0009e6   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                   }//end while(byte_to_send._word)                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               else // RAM                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009ea   cfd9     MOVFF     0xfd9,0xfe9            while(byte_to_send._word)                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009ec   ffe9                                                                                                               
0009ee   cfda     MOVFF     0xfda,0xfea                                                                                     
0009f0   ffea                                                                                                               
0009f2   50ee     MOVF      0xee,0x0,0x0                                                                                    
0009f4   10ed     IORWF     0xed,0x0,0x0                                                                                    
0009f6   e015     BZ        0xa22                                                                                           
000a20   d7e4     BRA       0x9ea                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009f8   c127     MOVFF     0x127,0xfe9                *pDst.bRam = *pSrc.bRam;                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
0009fa   ffe9                                                                                                               
0009fc   c128     MOVFF     0x128,0xfea                                                                                     
0009fe   ffea                                                                                                               
000a00   50ef     MOVF      0xef,0x0,0x0                                                                                    
000a02   c129     MOVFF     0x129,0xfe9                                                                                     
000a04   ffe9                                                                                                               
000a06   c12a     MOVFF     0x12a,0xfea                                                                                     
000a08   ffea                                                                                                               
000a0a   6eef     MOVWF     0xef,0x0                                                                                        
000a0c   0101     MOVLB     0x1                        pDst.bRam++;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a0e   2b29     INCF      0x29,0x1,0x1                                                                                    
000a10   0e00     MOVLW     0x0                                                                                             
000a12   232a     ADDWFC    0x2a,0x1,0x1                                                                                    
000a14   2b27     INCF      0x27,0x1,0x1               pSrc.bRam++;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a16   2328     ADDWFC    0x28,0x1,0x1                                                                                    
000a18   06df     DECF      0xdf,0x1,0x0               byte_to_send._word--;                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a1a   0e01     MOVLW     0x1                                                                                             
000a1c   e2e6     BC        0x9ea                                                                                           
000a1e   06db     DECF      0xdb,0x1,0x0                                                                                    
                                                   }//end while(byte_to_send._word)                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               }//end if(usb_stat.ctrl_trf_mem == _ROM)                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a22   0e02     MOVLW     0x2            }//end USBCtrlTrfTxService                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a24   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000a26   e202     BC        0xa2c                                                                                           
000a28   6ae1     CLRF      0xe1,0x0                                                                                        
000a2a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a2c   6ee1     MOVWF     0xe1,0x0                                                                                        
000a2e   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000a30   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000a32   ffd9                                                                                                               
000a34   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlTrfRxService(void)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    pDst and wCount are setup properly.                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  pSrc is always &CtrlTrfData                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  usb_stat.ctrl_trf_mem is always _RAM.                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  wCount should be set to 0 at the start of each control       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transfer.                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        *** This routine is only partially complete. Check for       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  new version of the firmware.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a36   cfd9     MOVFF     0xfd9,0xfe6    void USBCtrlTrfRxService(void)                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a38   ffe6                                                                                                               
000a3a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000a3c   ffd9                                                                                                               
000a3e   0e02     MOVLW     0x2                                                                                             
000a40   26e1     ADDWF     0xe1,0x1,0x0                                                                                    
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               WORD byte_to_read;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a42   0e03     MOVLW     0x3                MSB(byte_to_read) = 0x03 & ep0Bo.Stat._byte;    // Filter out last 2 bits    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a44   0104     MOVLB     0x4                                                                                             
000a46   1500     ANDWF     0x0,0x0,0x1                                                                                     
000a48   6ee7     MOVWF     0xe7,0x0                                                                                        
000a4a   0e01     MOVLW     0x1                                                                                             
000a4c   cfe7     MOVFF     0xfe7,0xfdb                                                                                     
000a4e   ffdb                                                                                                               
000a50   c401     MOVFF     0x401,0xfdf        LSB(byte_to_read) = ep0Bo.Cnt;                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a52   ffdf                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                * Accumulate total number of bytes read                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a54   50de     MOVF      0xde,0x0,0x0       wCount._word = wCount._word + byte_to_read._word;                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a56   0101     MOVLB     0x1                                                                                             
000a58   272b     ADDWF     0x2b,0x1,0x1                                                                                    
000a5a   50dd     MOVF      0xdd,0x0,0x0                                                                                    
000a5c   232c     ADDWFC    0x2c,0x1,0x1                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a5e   0e28     MOVLW     0x28               pSrc.bRam = (byte*)&CtrlTrfData;                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a60   6f27     MOVWF     0x27,0x1                                                                                        
000a62   0e04     MOVLW     0x4                                                                                             
000a64   6f28     MOVWF     0x28,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a66   cfd9     MOVFF     0xfd9,0xfe9        while(byte_to_read._word)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a68   ffe9                                                                                                               
000a6a   cfda     MOVFF     0xfda,0xfea                                                                                     
000a6c   ffea                                                                                                               
000a6e   50ee     MOVF      0xee,0x0,0x0                                                                                    
000a70   10ed     IORWF     0xed,0x0,0x0                                                                                    
000a72   e014     BZ        0xa9c                                                                                           
000a9a   d7e5     BRA       0xa66                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a74   c127     MOVFF     0x127,0xfe9            *pDst.bRam = *pSrc.bRam;                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a76   ffe9                                                                                                               
000a78   c128     MOVFF     0x128,0xfea                                                                                     
000a7a   ffea                                                                                                               
000a7c   50ef     MOVF      0xef,0x0,0x0                                                                                    
000a7e   c129     MOVFF     0x129,0xfe9                                                                                     
000a80   ffe9                                                                                                               
000a82   c12a     MOVFF     0x12a,0xfea                                                                                     
000a84   ffea                                                                                                               
000a86   6eef     MOVWF     0xef,0x0                                                                                        
000a88   2b29     INCF      0x29,0x1,0x1           pDst.bRam++;                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a8a   0e00     MOVLW     0x0                                                                                             
000a8c   232a     ADDWFC    0x2a,0x1,0x1                                                                                    
000a8e   2b27     INCF      0x27,0x1,0x1           pSrc.bRam++;                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a90   2328     ADDWFC    0x28,0x1,0x1                                                                                    
000a92   06df     DECF      0xdf,0x1,0x0           byte_to_read._word--;                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a94   0e01     MOVLW     0x1                                                                                             
000a96   e2e7     BC        0xa66                                                                                           
000a98   06db     DECF      0xdb,0x1,0x0                                                                                    
                                               }//end while(byte_to_read._word)                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a9c   0e02     MOVLW     0x2            }//end USBCtrlTrfRxService                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000a9e   5ce1     SUBWF     0xe1,0x0,0x0                                                                                    
000aa0   e202     BC        0xaa6                                                                                           
000aa2   6ae1     CLRF      0xe1,0x0                                                                                        
000aa4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000aa6   6ee1     MOVWF     0xe1,0x0                                                                                        
000aa8   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000aaa   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000aac   ffd9                                                                                                               
000aae   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBCtrlEPServiceComplete(void)                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        This routine wrap up the ramaining tasks in servicing        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  a Setup Request. Its main task is to set the endpoint        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  controls appropriately for a given situation. See code       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  below.                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  There are three main scenarios:                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  a) There was no handler for the Request, in this case        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     a STALL should be sent out.                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  b) The host has requested a read control transfer,           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     endpoints are required to be setup in a specific way.     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  c) The host has requested a write control transfer, or       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     a control data stage is not required, endpoints are       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                     required to be setup in a specific way.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  Packet processing is resumed by clearing PKTDIS bit.         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBCtrlEPServiceComplete(void)                                              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ab0   0101     MOVLB     0x1                if(ctrl_trf_session_owner == MUID_NULL)                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ab2   5126     MOVF      0x26,0x0,0x1                                                                                    
000ab4   e10b     BNZ       0xacc                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    * If no one knows how to service this request then stall.               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    * Must also prepare EP0 to receive the next SETUP transaction.          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ab6   0104     MOVLB     0x4                    ep0Bo.Cnt = EP0_BUFF_SIZE;                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ab8   0e08     MOVLW     0x8                                                                                             
000aba   6f01     MOVWF     0x1,0x1                                                                                         
000abc   0e20     MOVLW     0x20                   ep0Bo.ADR = (byte*)&SetupPkt;                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000abe   6f02     MOVWF     0x2,0x1                                                                                         
000ac0   0e04     MOVLW     0x4                                                                                             
000ac2   6f03     MOVWF     0x3,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ac4   0e84     MOVLW     0x84                   ep0Bo.Stat._byte = _USIE|_BSTALL;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ac6   6f00     MOVWF     0x0,0x1                                                                                         
000ac8   0104     MOVLB     0x4                    ep0Bi.Stat._byte = _USIE|_BSTALL;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000aca   d023     BRA       0xb12              else    // A module has claimed ownership of the control transfer session.   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000acc   0104     MOVLB     0x4                    if(SetupPkt.DataDir == DEV_TO_HOST)                                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ace   af20     BTFSS     0x20,0x7,0x1                                                                                    
000ad0   d022     BRA       0xb16                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ad2   0101     MOVLB     0x1                        if(SetupPkt.wLength < wCount._word)                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ad4   512b     MOVF      0x2b,0x0,0x1                                                                                    
000ad6   0104     MOVLB     0x4                                                                                             
000ad8   5d26     SUBWF     0x26,0x0,0x1                                                                                    
000ada   0101     MOVLB     0x1                                                                                             
000adc   512c     MOVF      0x2c,0x0,0x1                                                                                    
000ade   0104     MOVLB     0x4                                                                                             
000ae0   5927     SUBWFB    0x27,0x0,0x1                                                                                    
000ae2   e204     BC        0xaec                                                                                           
000ae4   c426     MOVFF     0x426,0x12b                    wCount._word = SetupPkt.wLength;                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000ae6   f12b                                                                                                               
000ae8   c427     MOVFF     0x427,0x12c                                                                                     
000aea   f12c                                                                                                               
000aec   df37     RCALL     0x95c                      USBCtrlTrfTxService();                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000aee   0101     MOVLB     0x1                        ctrl_trf_state = CTRL_TRF_TX;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000af0   0e01     MOVLW     0x1                                                                                             
000af2   6f25     MOVWF     0x25,0x1                                                                                        
                                                       /*                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Control Read:                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * <SETUP[0]><IN[1]><IN[0]>...<OUT[1]> | <SETUP[0]>                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 1. Prepare OUT EP to respond to early termination                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * NOTE:                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * If something went wrong during the control transfer,              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the last status stage may not be sent by the host.                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * When this happens, two different things could happen              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * depending on the host.                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * a) The host could send out a RESET.                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * b) The host could send out a new SETUP transaction                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    without sending a RESET first.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * To properly handle case (b), the OUT EP must be setup             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * to receive either a zero length OUT transaction, or a             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * new SETUP transaction.                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Since the SETUP transaction requires the DTS bit to be            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * DAT0 while the zero length OUT status requires the DTS            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * bit to be DAT1, the DTS bit check by the hardware should          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * be disabled. This way the SIE could accept either of              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the two transactions.                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Furthermore, the Cnt byte should be set to prepare for            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * the SETUP data (8-byte or more), and the buffer address           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * should be pointed to SetupPkt.                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000af4   0104     MOVLB     0x4                        ep0Bo.Cnt = EP0_BUFF_SIZE;                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000af6   0e08     MOVLW     0x8                                                                                             
000af8   6f01     MOVWF     0x1,0x1                                                                                         
000afa   0e20     MOVLW     0x20                       ep0Bo.ADR = (byte*)&SetupPkt;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000afc   6f02     MOVWF     0x2,0x1                                                                                         
000afe   0e04     MOVLW     0x4                                                                                             
000b00   6f03     MOVWF     0x3,0x1                                                                                         
000b02   0e80     MOVLW     0x80                       ep0Bo.Stat._byte = _USIE;           // Note: DTSEN is 0!             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b04   6f00     MOVWF     0x0,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                       /*                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 2. Prepare IN EP to transfer data, Cnt should have                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    been initialized by responsible request owner.                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b06   0104     MOVLB     0x4                        ep0Bi.ADR = (byte*)&CtrlTrfData;                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b08   0e28     MOVLW     0x28                                                                                            
000b0a   6f06     MOVWF     0x6,0x1                                                                                         
000b0c   0e04     MOVLW     0x4                                                                                             
000b0e   6f07     MOVWF     0x7,0x1                                                                                         
000b10   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b12   6f04     MOVWF     0x4,0x1                                                                                         
                                                   }                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b14   d010     BRA       0xb36                  else    // (SetupPkt.DataDir == HOST_TO_DEV)                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b16   0101     MOVLB     0x1                        ctrl_trf_state = CTRL_TRF_RX;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b18   0e02     MOVLW     0x2                                                                                             
000b1a   6f25     MOVWF     0x25,0x1                                                                                        
                                                       /*                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * Control Write:                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * <SETUP[0]><OUT[1]><OUT[0]>...<IN[1]> | <SETUP[0]>                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 1. Prepare IN EP to respond to early termination                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    This is the same as a Zero Length Packet Response              C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        *    for control transfer without a data stage                      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b1c   0104     MOVLB     0x4                        ep0Bi.Cnt = 0;                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b1e   6b05     CLRF      0x5,0x1                                                                                         
000b20   0ec8     MOVLW     0xc8                       ep0Bi.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b22   6f04     MOVWF     0x4,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                       /*                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        * 2. Prepare OUT EP to receive data.                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                        */                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b24   0104     MOVLB     0x4                        ep0Bo.Cnt = EP0_BUFF_SIZE;                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b26   0e08     MOVLW     0x8                                                                                             
000b28   6f01     MOVWF     0x1,0x1                                                                                         
000b2a   0e28     MOVLW     0x28                       ep0Bo.ADR = (byte*)&CtrlTrfData;                                     C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b2c   6f02     MOVWF     0x2,0x1                                                                                         
000b2e   0e04     MOVLW     0x4                                                                                             
000b30   6f03     MOVWF     0x3,0x1                                                                                         
000b32   0ec8     MOVLW     0xc8                       ep0Bo.Stat._byte = _USIE|_DAT1|_DTSEN;                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b34   6f00     MOVWF     0x0,0x1                                                                                         
                                                   }//end if(SetupPkt.DataDir == DEV_TO_HOST)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               }//end if(ctrl_trf_session_owner == MUID_NULL)                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                * PKTDIS bit is set when a Setup Transaction is received.                   C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                * Clear to resume packet processing.                                        C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b36   986d     BCF       0x6d,0x4,0x0       UCONbits.PKTDIS = 0;                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b38   0012     RETURN    0x0            }//end USBCtrlEPServiceComplete                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Function:        void USBPrepareForNextSetupTrf(void)                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Overview:        The routine forces EP0 OUT to be ready for a new Setup       C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                  transaction, and forces EP0 IN to be owned by CPU.           C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           void USBPrepareForNextSetupTrf(void)                                             C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b3a   0101     MOVLB     0x1                ctrl_trf_state = WAIT_SETUP;            // See usbctrltrf.h                  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b3c   6b25     CLRF      0x25,0x1                                                                                        
000b3e   0104     MOVLB     0x4                ep0Bo.Cnt = EP0_BUFF_SIZE;              // Defined in usbcfg.h               C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b40   0e08     MOVLW     0x8                                                                                             
000b42   6f01     MOVWF     0x1,0x1                                                                                         
000b44   0e20     MOVLW     0x20               ep0Bo.ADR = (byte*)&SetupPkt;                                                C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b46   6f02     MOVWF     0x2,0x1                                                                                         
000b48   0e04     MOVLW     0x4                                                                                             
000b4a   6f03     MOVWF     0x3,0x1                                                                                         
000b4c   0e88     MOVLW     0x88               ep0Bo.Stat._byte = _USIE|_DAT0|_DTSEN;  // EP0 buff dsc init, see usbmmap.h  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b4e   6f00     MOVWF     0x0,0x1                                                                                         
000b50   0104     MOVLB     0x4                ep0Bi.Stat._byte = _UCPU;               // EP0 IN buffer initialization      C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
000b52   6b04     CLRF      0x4,0x1                                                                                         
000b54   0012     RETURN    0x0            }//end USBPrepareForNextSetupTrf                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /** EOF usbctrltrf.c *********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\usbctrltrf\usbctrltrf.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                Microchip USB C18 Firmware Version 1.0                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * FileName:        user.c                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Rawin Rojvanit       11/19/04    Original.                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * CDC RS-232 Emulation Tutorial Instructions:                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            ******************************************************************************  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Refer to Application Note AN956 for explanation of the CDC class.             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * First take a look at Exercise_Example() and study how functions are called.   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * There are five exercises, each one has a solution in the CDC\user\solutions.  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Scroll down and look for Exercise_01,_02,_03,_04, and _05.                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Instructions on what to do is inside each function.                           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #include <p18f2550.h>                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #include "io_cfg.h"             // I/O pin mapping                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #include "user\user.h"                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /** V A R I A B L E S ********************************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char input_buffer_pointer;                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char input_buffer_size;                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char input_buffer_char;                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char input_buffer[64];                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char output_buffer[64];                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           //extern                                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           //char cdc_rx_len;                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char i;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char savecontroller;                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char controller;                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char transient;                                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char LCDready;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char LCDsetupstate;                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char nextchar;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char onebyte;                                                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char customdone;                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char col;                                                                        C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char row;                                                                        C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char custom[9];                                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char backlight;                                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char contrast;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char position;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char getnextbyte();                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char getnextbyte(void);                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char getnewbuffer(void);                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char getsUSBUSART(char *buffer, char len);                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void whatcommand(void);                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void setupLCD(void);                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void sortCMD(void);                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void LCDw(char onebyte);                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void LCDch(char onebyte);                                                        C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void LCDposition(char col, char row);                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char LCDbusy(void);                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char LCDcustom(void);                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void UserInit(void)                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
00002c   9092     BCF       0x92,0x0,0x0   	TRISEN1=0;                                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
00002e   9692     BCF       0x92,0x3,0x0   	TRISEN2=0;                                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
000030   9492     BCF       0x92,0x2,0x0   	TRISRS=0;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000032   9292     BCF       0x92,0x1,0x0   	TRISRW=0;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000034   9294     BCF       0x94,0x1,0x0   	TRISBL=0;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000036   9494     BCF       0x94,0x2,0x0   	TRISCT=0;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000038   6a93     CLRF      0x93,0x0       	TRISDATA=0;                                                                     C:\MCHPFSUSB\fw\Cdc\user\user.c
00003a   9080     BCF       0x80,0x0,0x0   	EN1=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
00003c   9680     BCF       0x80,0x3,0x0   	EN2=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
00003e   9480     BCF       0x80,0x2,0x0   	RS=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000040   9280     BCF       0x80,0x1,0x0   	RW=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000042   9282     BCF       0x82,0x1,0x0   	BL=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000044   9482     BCF       0x82,0x2,0x0   	CT=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000046   6a81     CLRF      0x81,0x0       	DATA=0;                                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
000048   0e0f     MOVLW     0xf            	ADCON1=0x0F; //ALL DIGITAL                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
00004a   6ec1     MOVWF     0xc1,0x0                                                                                        
00004c   0e07     MOVLW     0x7            	CMCON=0x07;  //PORTA COMPARATORS OFF                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
00004e   6eb4     MOVWF     0xb4,0x0                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	//SETUP HARDWARE PWM                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
000050   6eca     MOVWF     0xca,0x0       	T2CON=0b0000111;                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000052   6acc     CLRF      0xcc,0x0       	TMR2=0;                                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
000054   68cb     SETF      0xcb,0x0       	PR2=0xFF;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000056   0e0c     MOVLW     0xc            	CCP1CON=0b001100; //SET PWM lsb TO 11 AND CCP1 AS PWM                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000058   6ebd     MOVWF     0xbd,0x0                                                                                        
00005a   6eba     MOVWF     0xba,0x0       	CCP2CON=0b001100; //FOR CCP2                                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
00005c   6abe     CLRF      0xbe,0x0       	CCPR1L=0b00000000; //10-BIT RESOLUTION                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
00005e   68bb     SETF      0xbb,0x0       	CCPR2L=0b11111111;                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	//END SETUP PWM                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
000060   0100     MOVLB     0x0            	customdone = 9;                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
000062   0e09     MOVLW     0x9                                                                                             
000064   6feb     MOVWF     0xeb,0x1                                                                                        
000066   6be9     CLRF      0xe9,0x1       	nextchar = 0;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
000068   6be4     CLRF      0xe4,0x1       	savecontroller = 0;                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
00006a   0e03     MOVLW     0x3            	controller = 3;                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
00006c   6fe5     MOVWF     0xe5,0x1                                                                                        
00006e   0e80     MOVLW     0x80           	backlight = 128;                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000070   6ff7     MOVWF     0xf7,0x1                                                                                        
000072   6be8     CLRF      0xe8,0x1       	LCDsetupstate = 0;                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
000074   6be7     CLRF      0xe7,0x1       	LCDready = 0;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
000076   0012     RETURN    0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            * Overview:        This function is a place holder for other user routines.     C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *                  It is a mixture of both USB and non-USB tasks.               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void ProcessIO(void)                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000078   0e06     MOVLW     0x6                if ((usb_device_state < CONFIGURED_STATE)||(UCONbits.SUSPND==1)){return;}    C:\MCHPFSUSB\fw\Cdc\user\user.c
00007a   0100     MOVLB     0x0                                                                                             
00007c   5dfa     SUBWF     0xfa,0x0,0x1                                                                                    
00007e   e315     BNC       0xaa                                                                                            
000080   506d     MOVF      0x6d,0x0,0x0                                                                                    
000082   0b02     ANDLW     0x2                                                                                             
000084   e001     BZ        0x88                                                                                            
000086   0012     RETURN    0x0                                                                                             
000088   0100     MOVLB     0x0            	if (!LCDready){setupLCD(); return;}                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
00008a   51e7     MOVF      0xe7,0x0,0x1                                                                                    
00008c   e102     BNZ       0x92                                                                                            
00008e   ef56     GOTO      0xac                                                                                            
000090   f000                                                                                                               
000092   d949     RCALL     0x326          	if (LCDbusy()){return;}                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
000094   0900     IORLW     0x0                                                                                             
000096   e001     BZ        0x9a                                                                                            
000098   0012     RETURN    0x0                                                                                             
00009a   d904     RCALL     0x2a4          	if (!LCDcustom()){return;}                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
00009c   0900     IORLW     0x0                                                                                             
00009e   e101     BNZ       0xa2                                                                                            
0000a0   0012     RETURN    0x0                                                                                             
0000a2   da20     RCALL     0x4e4          	if (getnextbyte()){sortCMD();}                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
0000a4   0900     IORLW     0x0                                                                                             
0000a6   e001     BZ        0xaa                                                                                            
0000a8   d85d     RCALL     0x164                                                                                           
                                           	return;                                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
0000aa   0012     RETURN    0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           //end ProcessIO                                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void setupLCD(void)                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0000ac   0100     MOVLB     0x0            	switch(LCDsetupstate)                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
0000ae   51e8     MOVF      0xe8,0x0,0x1                                                                                    
0000b0   0a0c     XORLW     0xc                                                                                             
0000b2   e054     BZ        0x15c                                                                                           
0000b4   0a07     XORLW     0x7                                                                                             
0000b6   e048     BZ        0x148                                                                                           
0000b8   0a01     XORLW     0x1                                                                                             
0000ba   e041     BZ        0x13e                                                                                           
0000bc   0a03     XORLW     0x3                                                                                             
0000be   e03a     BZ        0x134                                                                                           
0000c0   0a01     XORLW     0x1                                                                                             
0000c2   e033     BZ        0x12a                                                                                           
0000c4   0a0f     XORLW     0xf                                                                                             
0000c6   e02c     BZ        0x120                                                                                           
0000c8   0a01     XORLW     0x1                                                                                             
0000ca   e025     BZ        0x116                                                                                           
0000cc   0a03     XORLW     0x3                                                                                             
0000ce   e01c     BZ        0x108                                                                                           
0000d0   0a01     XORLW     0x1                                                                                             
0000d2   e015     BZ        0xfe                                                                                            
0000d4   0a07     XORLW     0x7                                                                                             
0000d6   e00e     BZ        0xf4                                                                                            
0000d8   0a01     XORLW     0x1                                                                                             
0000da   e007     BZ        0xea                                                                                            
0000dc   0a03     XORLW     0x3                                                                                             
0000de   e003     BZ        0xe6                                                                                            
0000e0   0a01     XORLW     0x1                                                                                             
0000e2   e03a     BZ        0x158                                                                                           
0000e4   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		case 0 : LCDsetupstate++; break;                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//config 8 bit mode, 2 line, display on                                        C:\MCHPFSUSB\fw\Cdc\user\user.c
0000e6   0e3c     MOVLW     0x3c           		case 1 : LCDw(0b00111100); LCDsetupstate++; break;                             C:\MCHPFSUSB\fw\Cdc\user\user.c
0000e8   d013     BRA       0x110                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//config cursor shifts right                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
0000ea   d91d     RCALL     0x326          		case 2 : if(!LCDbusy()){LCDw(0b00010100); LCDsetupstate++;} break;             C:\MCHPFSUSB\fw\Cdc\user\user.c
0000ec   0900     IORLW     0x0                                                                                             
0000ee   e139     BNZ       0x162                                                                                           
0000f0   0e14     MOVLW     0x14                                                                                            
0000f2   d00e     BRA       0x110                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//config display on, cursor off, blinking off                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
0000f4   d918     RCALL     0x326          		case 3 : if(!LCDbusy()){LCDw(0b00001100); LCDsetupstate++;} break;             C:\MCHPFSUSB\fw\Cdc\user\user.c
0000f6   0900     IORLW     0x0                                                                                             
0000f8   e134     BNZ       0x162                                                                                           
0000fa   0e0c     MOVLW     0xc                                                                                             
0000fc   d009     BRA       0x110                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		// clear display                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0000fe   d913     RCALL     0x326          		case 4 : if(!LCDbusy()){LCDw(0b00000001); LCDsetupstate++;} break;             C:\MCHPFSUSB\fw\Cdc\user\user.c
000100   0900     IORLW     0x0                                                                                             
000102   e12f     BNZ       0x162                                                                                           
000104   0e01     MOVLW     0x1                                                                                             
000106   d004     BRA       0x110                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		// return home                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
000108   d90e     RCALL     0x326          		case 5 : if(!LCDbusy()){LCDw(0b00000010); LCDsetupstate++;} break;             C:\MCHPFSUSB\fw\Cdc\user\user.c
00010a   0900     IORLW     0x0                                                                                             
00010c   e12a     BNZ       0x162                                                                                           
00010e   0e02     MOVLW     0x2                                                                                             
000110   6ee6     MOVWF     0xe6,0x0                                                                                        
000112   d94c     RCALL     0x3ac                                                                                           
000114   d01f     BRA       0x154                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		// write my data                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
000116   d907     RCALL     0x326          		case 6 : if(!LCDbusy()){LCDch(77); LCDsetupstate++;} break;                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000118   0900     IORLW     0x0                                                                                             
00011a   e123     BNZ       0x162                                                                                           
00011c   0e4d     MOVLW     0x4d                                                                                            
00011e   d018     BRA       0x150                                                                                           
000120   d902     RCALL     0x326          		case 7 : if(!LCDbusy()){LCDch(97); LCDsetupstate++;} break;                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000122   0900     IORLW     0x0                                                                                             
000124   e11e     BNZ       0x162                                                                                           
000126   0e61     MOVLW     0x61                                                                                            
000128   d013     BRA       0x150                                                                                           
00012a   d8fd     RCALL     0x326          		case 8 : if(!LCDbusy()){LCDch(100); LCDsetupstate++;} break;                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00012c   0900     IORLW     0x0                                                                                             
00012e   e119     BNZ       0x162                                                                                           
000130   0e64     MOVLW     0x64                                                                                            
000132   d00e     BRA       0x150                                                                                           
000134   d8f8     RCALL     0x326          		case 9 : if(!LCDbusy()){LCDch(68); LCDsetupstate++;} break;                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000136   0900     IORLW     0x0                                                                                             
000138   e114     BNZ       0x162                                                                                           
00013a   0e44     MOVLW     0x44                                                                                            
00013c   d009     BRA       0x150                                                                                           
00013e   d8f3     RCALL     0x326          		case 10 : if(!LCDbusy()){LCDch(79); LCDsetupstate++;} break;                   C:\MCHPFSUSB\fw\Cdc\user\user.c
000140   0900     IORLW     0x0                                                                                             
000142   e10f     BNZ       0x162                                                                                           
000144   0e4f     MOVLW     0x4f                                                                                            
000146   d004     BRA       0x150                                                                                           
000148   d8ee     RCALL     0x326          		case 11 : if(!LCDbusy()){LCDch(67); LCDsetupstate++;} break;                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00014a   0900     IORLW     0x0                                                                                             
00014c   e10a     BNZ       0x162                                                                                           
00014e   0e43     MOVLW     0x43                                                                                            
000150   6ee6     MOVWF     0xe6,0x0                                                                                        
000152   d959     RCALL     0x406                                                                                           
000154   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000156   0100     MOVLB     0x0                                                                                             
000158   2be8     INCF      0xe8,0x1,0x1                                                                                    
00015a   0012     RETURN    0x0                                                                                             
                                           		//singnal LCDisSetup                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
00015c   0e01     MOVLW     0x1            		case 12 : LCDready=1; controller=1; break;                                     C:\MCHPFSUSB\fw\Cdc\user\user.c
00015e   6fe7     MOVWF     0xe7,0x1                                                                                        
000160   6fe5     MOVWF     0xe5,0x1                                                                                        
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
000162   0012     RETURN    0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void sortCMD(void)                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000164   0100     MOVLB     0x0            	switch(nextchar)                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000166   51e9     MOVF      0xe9,0x0,0x1                                                                                    
000168   0a63     XORLW     0x63                                                                                            
00016a   e061     BZ        0x22e                                                                                           
00016c   0a01     XORLW     0x1                                                                                             
00016e   e05d     BZ        0x22a                                                                                           
000170   0a6e     XORLW     0x6e                                                                                            
000172   e052     BZ        0x218                                                                                           
000174   0a07     XORLW     0x7                                                                                             
000176   e04d     BZ        0x212                                                                                           
000178   0a01     XORLW     0x1                                                                                             
00017a   e048     BZ        0x20c                                                                                           
00017c   0a03     XORLW     0x3                                                                                             
00017e   e043     BZ        0x206                                                                                           
000180   0a01     XORLW     0x1                                                                                             
000182   e03e     BZ        0x200                                                                                           
000184   0a0f     XORLW     0xf                                                                                             
000186   e039     BZ        0x1fa                                                                                           
000188   0a01     XORLW     0x1                                                                                             
00018a   e034     BZ        0x1f4                                                                                           
00018c   0a03     XORLW     0x3                                                                                             
00018e   e02f     BZ        0x1ee                                                                                           
000190   0a01     XORLW     0x1                                                                                             
000192   e02a     BZ        0x1e8                                                                                           
000194   0a07     XORLW     0x7                                                                                             
000196   e01d     BZ        0x1d2                                                                                           
000198   0a01     XORLW     0x1                                                                                             
00019a   e018     BZ        0x1cc                                                                                           
00019c   0a03     XORLW     0x3                                                                                             
00019e   e014     BZ        0x1c8                                                                                           
0001a0   0a01     XORLW     0x1                                                                                             
0001a2   e001     BZ        0x1a6                                                                                           
0001a4   0012     RETURN    0x0                                                                                             
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0001a6   5162     MOVF      0x62,0x0,0x1   		case 0 : if(input_buffer_char!=254){LCDch(input_buffer_char); break;}          C:\MCHPFSUSB\fw\Cdc\user\user.c
0001a8   6e02     MOVWF     0x2,0x0                                                                                         
0001aa   6a03     CLRF      0x3,0x0                                                                                         
0001ac   0efe     MOVLW     0xfe                                                                                            
0001ae   1802     XORWF     0x2,0x0,0x0                                                                                     
0001b0   e101     BNZ       0x1b4                                                                                           
0001b2   5003     MOVF      0x3,0x0,0x0                                                                                     
0001b4   e005     BZ        0x1c0                                                                                           
0001b6   c062     MOVFF     0x62,0xfe6                                                                                      
0001b8   ffe6                                                                                                               
0001ba   d925     RCALL     0x406                                                                                           
0001bc   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001be   0012     RETURN    0x0                                                                                             
0001c0   0efe     MOVLW     0xfe           				 if(input_buffer_char=254){nextchar++; break;}                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0001c2   6f62     MOVWF     0x62,0x1                                                                                        
0001c4   50e8     MOVF      0xe8,0x0,0x0                                                                                    
0001c6   e131     BNZ       0x22a                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
0001c8   ef19     GOTO      0x232          		case 1 : whatcommand(); break;                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
0001ca   f001                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
0001cc   c062     MOVFF     0x62,0xec      		case 2 : col=input_buffer_char; nextchar++; break;                             C:\MCHPFSUSB\fw\Cdc\user\user.c
0001ce   f0ec                                                                                                               
0001d0   d02c     BRA       0x22a                                                                                           
0001d2   c062     MOVFF     0x62,0xed      		case 3 : row=input_buffer_char; LCDposition(col,row); nextchar=0; break;       C:\MCHPFSUSB\fw\Cdc\user\user.c
0001d4   f0ed                                                                                                               
0001d6   c062     MOVFF     0x62,0xfe6                                                                                      
0001d8   ffe6                                                                                                               
0001da   c0ec     MOVFF     0xec,0xfe6                                                                                      
0001dc   ffe6                                                                                                               
0001de   d945     RCALL     0x46a                                                                                           
0001e0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001e2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0001e4   0100     MOVLB     0x0                                                                                             
0001e6   d023     BRA       0x22e                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
0001e8   c062     MOVFF     0x62,0xee      		case 4 : custom[0]=input_buffer_char; nextchar++; break;                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0001ea   f0ee                                                                                                               
0001ec   d01e     BRA       0x22a                                                                                           
0001ee   c062     MOVFF     0x62,0xef      		case 5 : custom[1]=input_buffer_char; nextchar++; break;                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0001f0   f0ef                                                                                                               
0001f2   d01b     BRA       0x22a                                                                                           
0001f4   c062     MOVFF     0x62,0xf0      		case 6 : custom[2]=input_buffer_char; nextchar++; break;                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0001f6   f0f0                                                                                                               
0001f8   d018     BRA       0x22a                                                                                           
0001fa   c062     MOVFF     0x62,0xf1      		case 7 : custom[3]=input_buffer_char; nextchar++; break;                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0001fc   f0f1                                                                                                               
0001fe   d015     BRA       0x22a                                                                                           
000200   c062     MOVFF     0x62,0xf2      		case 8 : custom[4]=input_buffer_char; nextchar++; break;                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000202   f0f2                                                                                                               
000204   d012     BRA       0x22a                                                                                           
000206   c062     MOVFF     0x62,0xf3      		case 9 : custom[5]=input_buffer_char; nextchar++; break;                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000208   f0f3                                                                                                               
00020a   d00f     BRA       0x22a                                                                                           
00020c   c062     MOVFF     0x62,0xf4      		case 10 : custom[6]=input_buffer_char; nextchar++; break;                      C:\MCHPFSUSB\fw\Cdc\user\user.c
00020e   f0f4                                                                                                               
000210   d00c     BRA       0x22a                                                                                           
000212   c062     MOVFF     0x62,0xf5      		case 11 : custom[7]=input_buffer_char; nextchar++; break;                      C:\MCHPFSUSB\fw\Cdc\user\user.c
000214   f0f5                                                                                                               
000216   d009     BRA       0x22a                                                                                           
000218   c062     MOVFF     0x62,0xf6      		case 12 : custom[8]=input_buffer_char; customdone=0; nextchar=0; savecontroller=controller; controller=3; break; C:\MCHPFSUSB\fw\Cdc\user\user.c
00021a   f0f6                                                                                                               
00021c   6beb     CLRF      0xeb,0x1                                                                                        
00021e   6be9     CLRF      0xe9,0x1                                                                                        
000220   c0e5     MOVFF     0xe5,0xe4                                                                                       
000222   f0e4                                                                                                               
000224   0e03     MOVLW     0x3                                                                                             
000226   6fe5     MOVWF     0xe5,0x1                                                                                        
000228   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
00022a   2be9     INCF      0xe9,0x1,0x1   		case 98 : nextchar++; break;                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00022c   0012     RETURN    0x0                                                                                             
00022e   6be9     CLRF      0xe9,0x1       		case 99 : nextchar=0; break; //discard 1 byte                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
000230   0012     RETURN    0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           void whatcommand(void)                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000232   0100     MOVLB     0x0            	switch(input_buffer_char)                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000234   5162     MOVF      0x62,0x0,0x1                                                                                    
000236   0a99     XORLW     0x99                                                                                            
000238   e031     BZ        0x29c                                                                                           
00023a   0a01     XORLW     0x1                                                                                             
00023c   e02f     BZ        0x29c                                                                                           
00023e   0a09     XORLW     0x9                                                                                             
000240   e02a     BZ        0x296                                                                                           
000242   0af7     XORLW     0xf7                                                                                            
000244   e025     BZ        0x290                                                                                           
000246   0a3e     XORLW     0x3e                                                                                            
000248   e01b     BZ        0x280                                                                                           
00024a   0a0f     XORLW     0xf                                                                                             
00024c   e017     BZ        0x27c                                                                                           
00024e   0a01     XORLW     0x1                                                                                             
000250   e015     BZ        0x27c                                                                                           
000252   0a06     XORLW     0x6                                                                                             
000254   e020     BZ        0x296                                                                                           
000256   0a1e     XORLW     0x1e                                                                                            
000258   e00f     BZ        0x278                                                                                           
00025a   0a06     XORLW     0x6                                                                                             
00025c   e011     BZ        0x280                                                                                           
00025e   0a0f     XORLW     0xf                                                                                             
000260   e009     BZ        0x274                                                                                           
000262   0a01     XORLW     0x1                                                                                             
000264   e005     BZ        0x270                                                                                           
000266   0a04     XORLW     0x4                                                                                             
000268   e11b     BNZ       0x2a0                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//66[n] = backlight on for n min.                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
00026a   c0f7     MOVFF     0xf7,0xfbb     		case 66 : CCPR2L = backlight; nextchar=99; break; //discard minutes            C:\MCHPFSUSB\fw\Cdc\user\user.c
00026c   ffbb                                                                                                               
00026e   d006     BRA       0x27c                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//70 = backlight off                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000270   6abb     CLRF      0xbb,0x0       		case 70 : CCPR2L = 0; nextchar=0; break;                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000272   d016     BRA       0x2a0                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//71[col][row] = goto position                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
000274   0e02     MOVLW     0x2            		case 71 : nextchar=2; break;                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
000276   d00d     BRA       0x292                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//72 = goto home                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		case 72 : controller=1; LCDw(128); nextchar=0; break;                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//74 = cursor on                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//case 74 : controller=3; LCDw(); nextchar=0; break;                           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//75 = cursor off                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//case  :  nextchar=0; break;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//78[n][8bytes] = define custom character                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
000278   0e04     MOVLW     0x4            		case 78 : nextchar=4; break;                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00027a   d00b     BRA       0x292                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//80[n] = contrast                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		case 80 : CCPR1L=input_buffer_char; nextchar=0; break;                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//83 = blink on ; 84 off                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//case  :  nextchar=0; break;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//86[n] = gpo off; 87 on		//DISCARDED                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		case 86 : nextchar=99; break;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
00027c   0e63     MOVLW     0x63           		case 87 : nextchar=99; break;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
00027e   d009     BRA       0x292                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//88 = clear screen                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
000280   0e01     MOVLW     0x1            		case 88 : controller=1; LCDw(128); nextchar=0; break; //doesn't clear display but is faster!!! 400x faster C:\MCHPFSUSB\fw\Cdc\user\user.c
000282   6fe5     MOVWF     0xe5,0x1                                                                                        
000284   0e80     MOVLW     0x80                                                                                            
000286   6ee6     MOVWF     0xe6,0x0                                                                                        
000288   d891     RCALL     0x3ac                                                                                           
00028a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00028c   0100     MOVLB     0x0                                                                                             
00028e   d008     BRA       0x2a0                                                                                           
                                           		//case 88 : controller=3; LCDw(1); controller=1; nextchar=0; break;            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//102[n][pwm] = gpo pwm controll	//DISCARDED                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
000290   0e62     MOVLW     0x62           		case 102 : nextchar=98; break;                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
000292   6fe9     MOVWF     0xe9,0x1                                                                                        
000294   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//145[n] = set & save contrast		//NOT SAVED                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000296   c062     MOVFF     0x62,0xfbe     		case 145 : CCPR1L=input_buffer_char; nextchar=0; break;                        C:\MCHPFSUSB\fw\Cdc\user\user.c
000298   ffbe                                                                                                               
00029a   d002     BRA       0x2a0                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//152[n] = set backlight PWM                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		case 152 : CCPR2L=input_buffer_char; nextchar=0; break;                        C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//153[n] = set & save backlight PWM	//NOT SAVED                                C:\MCHPFSUSB\fw\Cdc\user\user.c
00029c   c062     MOVFF     0x62,0xfbb     		case 153 : CCPR2L=input_buffer_char; nextchar=0; break;                        C:\MCHPFSUSB\fw\Cdc\user\user.c
00029e   ffbb                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//254 = maybe it should be sent after all as character                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//case 254 : LCDch(254); nextchar=0; break;                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           		//discard other commands!                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
0002a0   6be9     CLRF      0xe9,0x1       		default : nextchar=0; break;                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0002a2   0012     RETURN    0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char LCDcustom()                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002a4   0100     MOVLB     0x0            	switch(customdone)                                                              C:\MCHPFSUSB\fw\Cdc\user\user.c
0002a6   51eb     MOVF      0xeb,0x0,0x1                                                                                    
0002a8   0a09     XORLW     0x9                                                                                             
0002aa   e03b     BZ        0x322                                                                                           
0002ac   0a01     XORLW     0x1                                                                                             
0002ae   e030     BZ        0x310                                                                                           
0002b0   0a0f     XORLW     0xf                                                                                             
0002b2   e027     BZ        0x302                                                                                           
0002b4   0a01     XORLW     0x1                                                                                             
0002b6   e022     BZ        0x2fc                                                                                           
0002b8   0a03     XORLW     0x3                                                                                             
0002ba   e01d     BZ        0x2f6                                                                                           
0002bc   0a01     XORLW     0x1                                                                                             
0002be   e018     BZ        0x2f0                                                                                           
0002c0   0a07     XORLW     0x7                                                                                             
0002c2   e013     BZ        0x2ea                                                                                           
0002c4   0a01     XORLW     0x1                                                                                             
0002c6   e00e     BZ        0x2e4                                                                                           
0002c8   0a03     XORLW     0x3                                                                                             
0002ca   e009     BZ        0x2de                                                                                           
0002cc   0a01     XORLW     0x1                                                                                             
0002ce   e12a     BNZ       0x324                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0002d0   0e08     MOVLW     0x8            		case 0 : LCDw(64+(custom[0]*8)); customdone++; break;                          C:\MCHPFSUSB\fw\Cdc\user\user.c
0002d2   03ee     MULWF     0xee,0x1                                                                                        
0002d4   50f3     MOVF      0xf3,0x0,0x0                                                                                    
0002d6   0f40     ADDLW     0x40                                                                                            
0002d8   6ee6     MOVWF     0xe6,0x0                                                                                        
0002da   d868     RCALL     0x3ac                                                                                           
0002dc   d015     BRA       0x308                                                                                           
0002de   c0ef     MOVFF     0xef,0xfe6     		case 1 : LCDch(custom[1]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002e0   ffe6                                                                                                               
0002e2   d011     BRA       0x306                                                                                           
0002e4   c0f0     MOVFF     0xf0,0xfe6     		case 2 : LCDch(custom[2]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002e6   ffe6                                                                                                               
0002e8   d00e     BRA       0x306                                                                                           
0002ea   c0f1     MOVFF     0xf1,0xfe6     		case 3 : LCDch(custom[3]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002ec   ffe6                                                                                                               
0002ee   d00b     BRA       0x306                                                                                           
0002f0   c0f2     MOVFF     0xf2,0xfe6     		case 4 : LCDch(custom[4]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002f2   ffe6                                                                                                               
0002f4   d008     BRA       0x306                                                                                           
0002f6   c0f3     MOVFF     0xf3,0xfe6     		case 5 : LCDch(custom[5]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002f8   ffe6                                                                                                               
0002fa   d005     BRA       0x306                                                                                           
0002fc   c0f4     MOVFF     0xf4,0xfe6     		case 6 : LCDch(custom[6]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0002fe   ffe6                                                                                                               
000300   d002     BRA       0x306                                                                                           
000302   c0f5     MOVFF     0xf5,0xfe6     		case 7 : LCDch(custom[7]); customdone++; break;                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000304   ffe6                                                                                                               
000306   d87f     RCALL     0x406                                                                                           
000308   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00030a   0100     MOVLB     0x0                                                                                             
00030c   2beb     INCF      0xeb,0x1,0x1                                                                                    
00030e   0c00     RETLW     0x0                                                                                             
000310   c0f6     MOVFF     0xf6,0xfe6     		case 8 : LCDch(custom[8]); customdone++; controller = savecontroller; break;   C:\MCHPFSUSB\fw\Cdc\user\user.c
000312   ffe6                                                                                                               
000314   d878     RCALL     0x406                                                                                           
000316   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000318   0100     MOVLB     0x0                                                                                             
00031a   2beb     INCF      0xeb,0x1,0x1                                                                                    
00031c   c0e4     MOVFF     0xe4,0xe5                                                                                       
00031e   f0e5                                                                                                               
000320   0c00     RETLW     0x0                                                                                             
000322   0c01     RETLW     0x1            		case 9 : return 1; break;                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	return 0;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
000324   0c00     RETLW     0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /*** I/O with LCD ****************************************/                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char LCDbusy(void)                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000326   6a81     CLRF      0x81,0x0       	DATA=0;                                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
000328   0100     MOVLB     0x0            	transient=0;                                                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
00032a   6be6     CLRF      0xe6,0x1                                                                                        
00032c   6893     SETF      0x93,0x0       	TRISDATA=0xFF;                                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
00032e   9480     BCF       0x80,0x2,0x0   	RS=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000330   8280     BSF       0x80,0x1,0x0   	RW=1;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000332   0000     NOP                      	Nop(); Nop(); Nop();                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
000334   0000     NOP                                                                                                       
000336   0000     NOP                                                                                                       
000338   8080     BSF       0x80,0x0,0x0   	EN1=1;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
00033a   0000     NOP                      	Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); C:\MCHPFSUSB\fw\Cdc\user\user.c
00033c   0000     NOP                                                                                                       
00033e   0000     NOP                                                                                                       
000340   0000     NOP                                                                                                       
000342   0000     NOP                                                                                                       
000344   0000     NOP                                                                                                       
000346   0000     NOP                                                                                                       
000348   0000     NOP                                                                                                       
00034a   0000     NOP                                                                                                       
00034c   0000     NOP                                                                                                       
00034e   0000     NOP                                                                                                       
000350   0000     NOP                                                                                                       
000352   cf81     MOVFF     0xf81,0xe6     	transient=DATA;                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
000354   f0e6                                                                                                               
000356   9080     BCF       0x80,0x0,0x0   	EN1=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
000358   0000     NOP                      	Nop(); Nop(); Nop();                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
00035a   0000     NOP                                                                                                       
00035c   0000     NOP                                                                                                       
00035e   8680     BSF       0x80,0x3,0x0   	EN2=1;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
000360   0000     NOP                      	Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); C:\MCHPFSUSB\fw\Cdc\user\user.c
000362   0000     NOP                                                                                                       
000364   0000     NOP                                                                                                       
000366   0000     NOP                                                                                                       
000368   0000     NOP                                                                                                       
00036a   0000     NOP                                                                                                       
00036c   0000     NOP                                                                                                       
00036e   0000     NOP                                                                                                       
000370   0000     NOP                                                                                                       
000372   0000     NOP                                                                                                       
000374   0000     NOP                                                                                                       
000376   0000     NOP                                                                                                       
000378   5081     MOVF      0x81,0x0,0x0   	transient|=DATA;                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
00037a   0100     MOVLB     0x0                                                                                             
00037c   13e6     IORWF     0xe6,0x1,0x1                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
00037e   6a93     CLRF      0x93,0x0       	TRISDATA=0x00;                                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
000380   9080     BCF       0x80,0x0,0x0   	EN1=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
000382   9680     BCF       0x80,0x3,0x0   	EN2=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
000384   0000     NOP                      	Nop(); Nop();                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
000386   0000     NOP                                                                                                       
000388   9280     BCF       0x80,0x1,0x0   	RW=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
00038a   0100     MOVLB     0x0            	if(transient<128){return 0;};                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00038c   51e6     MOVF      0xe6,0x0,0x1                                                                                    
00038e   6e02     MOVWF     0x2,0x0                                                                                         
000390   6a03     CLRF      0x3,0x0                                                                                         
000392   90d8     BCF       0xd8,0x0,0x0                                                                                    
000394   5003     MOVF      0x3,0x0,0x0                                                                                     
000396   e604     BN        0x3a0                                                                                           
000398   0e80     MOVLW     0x80                                                                                            
00039a   5c02     SUBWF     0x2,0x0,0x0                                                                                     
00039c   0e00     MOVLW     0x0                                                                                             
00039e   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0003a0   e202     BC        0x3a6                                                                                           
0003a2   0e00     MOVLW     0x0                                                                                             
0003a4   d002     BRA       0x3aa                                                                                           
0003a6   0e01     MOVLW     0x1            	return 1;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0003a8   d000     BRA       0x3aa                                                                                           
0003aa   0012     RETURN    0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
0003ac   cfd9     MOVFF     0xfd9,0xfe6    void LCDw(char onebyte)                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
0003ae   ffe6                                                                                                               
0003b0   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
0003b2   ffd9                                                                                                               
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0003b4   9480     BCF       0x80,0x2,0x0   	RS=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
0003b6   9280     BCF       0x80,0x1,0x0   	RW=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
0003b8   0100     MOVLB     0x0            	switch (controller)                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
0003ba   51e5     MOVF      0xe5,0x0,0x1                                                                                    
0003bc   0a03     XORLW     0x3                                                                                             
0003be   e009     BZ        0x3d2                                                                                           
0003c0   0a01     XORLW     0x1                                                                                             
0003c2   e005     BZ        0x3ce                                                                                           
0003c4   0a03     XORLW     0x3                                                                                             
0003c6   e001     BZ        0x3ca                                                                                           
0003c8   d007     BRA       0x3d8                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0003ca   8080     BSF       0x80,0x0,0x0   		case 1 : EN1=1; break;                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
0003cc   d005     BRA       0x3d8                                                                                           
0003ce   8680     BSF       0x80,0x3,0x0   		case 2 : EN2=1; break;                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
0003d0   d003     BRA       0x3d8                                                                                           
0003d2   8080     BSF       0x80,0x0,0x0   		case 3 : EN1=1; EN2=1; break;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
0003d4   8680     BSF       0x80,0x3,0x0                                                                                    
0003d6   d000     BRA       0x3d8                                                                                           
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0003d8   0efe     MOVLW     0xfe           	DATA=onebyte;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
0003da   50db     MOVF      0xdb,0x0,0x0                                                                                    
0003dc   6e81     MOVWF     0x81,0x0                                                                                        
0003de   0000     NOP                      	Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); C:\MCHPFSUSB\fw\Cdc\user\user.c
0003e0   0000     NOP                                                                                                       
0003e2   0000     NOP                                                                                                       
0003e4   0000     NOP                                                                                                       
0003e6   0000     NOP                                                                                                       
0003e8   0000     NOP                                                                                                       
0003ea   0000     NOP                                                                                                       
0003ec   0000     NOP                                                                                                       
0003ee   0000     NOP                                                                                                       
0003f0   0000     NOP                                                                                                       
0003f2   0000     NOP                                                                                                       
0003f4   0000     NOP                                                                                                       
0003f6   0000     NOP                                                                                                       
0003f8   0000     NOP                                                                                                       
0003fa   9080     BCF       0x80,0x0,0x0   	EN1=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
0003fc   9680     BCF       0x80,0x3,0x0   	EN2=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
0003fe   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000400   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000402   ffd9                                                                                                               
000404   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
000406   cfd9     MOVFF     0xfd9,0xfe6    void LCDch(char onebyte)                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
000408   ffe6                                                                                                               
00040a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00040c   ffd9                                                                                                               
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
00040e   8480     BSF       0x80,0x2,0x0   	RS=1;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000410   9280     BCF       0x80,0x1,0x0   	RW=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000412   0000     NOP                      	Nop(); Nop(); Nop(); Nop();                                                     C:\MCHPFSUSB\fw\Cdc\user\user.c
000414   0000     NOP                                                                                                       
000416   0000     NOP                                                                                                       
000418   0000     NOP                                                                                                       
00041a   0100     MOVLB     0x0            	switch (controller)                                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
00041c   51e5     MOVF      0xe5,0x0,0x1                                                                                    
00041e   0a03     XORLW     0x3                                                                                             
000420   e009     BZ        0x434                                                                                           
000422   0a01     XORLW     0x1                                                                                             
000424   e005     BZ        0x430                                                                                           
000426   0a03     XORLW     0x3                                                                                             
000428   e001     BZ        0x42c                                                                                           
00042a   d007     BRA       0x43a                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
00042c   8080     BSF       0x80,0x0,0x0   		case 1 : EN1=1; break;                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
00042e   d005     BRA       0x43a                                                                                           
000430   8680     BSF       0x80,0x3,0x0   		case 2 : EN2=1; break;                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
000432   d003     BRA       0x43a                                                                                           
000434   8080     BSF       0x80,0x0,0x0   		case 3 : EN1=1; EN2=1; break;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
000436   8680     BSF       0x80,0x3,0x0                                                                                    
000438   d000     BRA       0x43a                                                                                           
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
00043a   0efe     MOVLW     0xfe           	DATA=onebyte;                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00043c   50db     MOVF      0xdb,0x0,0x0                                                                                    
00043e   6e81     MOVWF     0x81,0x0                                                                                        
000440   0000     NOP                      	Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); Nop(); C:\MCHPFSUSB\fw\Cdc\user\user.c
000442   0000     NOP                                                                                                       
000444   0000     NOP                                                                                                       
000446   0000     NOP                                                                                                       
000448   0000     NOP                                                                                                       
00044a   0000     NOP                                                                                                       
00044c   0000     NOP                                                                                                       
00044e   0000     NOP                                                                                                       
000450   0000     NOP                                                                                                       
000452   0000     NOP                                                                                                       
000454   0000     NOP                                                                                                       
000456   0000     NOP                                                                                                       
000458   9080     BCF       0x80,0x0,0x0   	EN1=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
00045a   9680     BCF       0x80,0x3,0x0   	EN2=0;                                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
00045c   0000     NOP                      	Nop(); Nop();                                                                   C:\MCHPFSUSB\fw\Cdc\user\user.c
00045e   0000     NOP                                                                                                       
000460   9480     BCF       0x80,0x2,0x0   	RS=0;                                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
000462   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000464   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000466   ffd9                                                                                                               
000468   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
00046a   cfd9     MOVFF     0xfd9,0xfe6    void LCDposition(char col, char row)                                             C:\MCHPFSUSB\fw\Cdc\user\user.c
00046c   ffe6                                                                                                               
00046e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000470   ffd9                                                                                                               
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
000472   0efd     MOVLW     0xfd           	switch (row)                                                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000474   50db     MOVF      0xdb,0x0,0x0                                                                                    
000476   0a04     XORLW     0x4                                                                                             
000478   e011     BZ        0x49c                                                                                           
00047a   0a07     XORLW     0x7                                                                                             
00047c   e00c     BZ        0x496                                                                                           
00047e   0a01     XORLW     0x1                                                                                             
000480   e005     BZ        0x48c                                                                                           
000482   0a03     XORLW     0x3                                                                                             
000484   e110     BNZ       0x4a6                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
000486   0100     MOVLB     0x0            		case 1 : position=127; controller=1; break;                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000488   0e7f     MOVLW     0x7f                                                                                            
00048a   d002     BRA       0x490                                                                                           
00048c   0100     MOVLB     0x0            		case 2 : position=191; controller=1; break;                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
00048e   0ebf     MOVLW     0xbf                                                                                            
000490   6ff9     MOVWF     0xf9,0x1                                                                                        
000492   0e01     MOVLW     0x1                                                                                             
000494   d007     BRA       0x4a4                                                                                           
000496   0100     MOVLB     0x0            		case 3 : position=127; controller=2; break;                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
000498   0e7f     MOVLW     0x7f                                                                                            
00049a   d002     BRA       0x4a0                                                                                           
00049c   0100     MOVLB     0x0            		case 4 : position=191; controller=2; break;                                    C:\MCHPFSUSB\fw\Cdc\user\user.c
00049e   0ebf     MOVLW     0xbf                                                                                            
0004a0   6ff9     MOVWF     0xf9,0x1                                                                                        
0004a2   0e02     MOVLW     0x2                                                                                             
0004a4   6fe5     MOVWF     0xe5,0x1                                                                                        
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0004a6   0efe     MOVLW     0xfe           	position+=(col);                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0004a8   50db     MOVF      0xdb,0x0,0x0                                                                                    
0004aa   0100     MOVLB     0x0                                                                                             
0004ac   27f9     ADDWF     0xf9,0x1,0x1                                                                                    
0004ae   c0f9     MOVFF     0xf9,0xfe6     	LCDw(position);                                                                 C:\MCHPFSUSB\fw\Cdc\user\user.c
0004b0   ffe6                                                                                                               
0004b2   df7c     RCALL     0x3ac                                                                                           
0004b4   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0004b6   52e5     MOVF      0xe5,0x1,0x0   }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0004b8   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
0004ba   ffd9                                                                                                               
0004bc   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /*** USB Buffering ***************************************/                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char getnewbuffer(void)                                                          C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
0004be   0e40     MOVLW     0x40           	if(getsUSBUSART(input_buffer,64))                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0004c0   6ee6     MOVWF     0xe6,0x0                                                                                        
0004c2   0e63     MOVLW     0x63                                                                                            
0004c4   6ee6     MOVWF     0xe6,0x0                                                                                        
0004c6   0e00     MOVLW     0x0                                                                                             
0004c8   6ee6     MOVWF     0xe6,0x0                                                                                        
0004ca   ec0b     CALL      0x616,0x0                                                                                       
0004cc   f003                                                                                                               
0004ce   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0004d0   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0004d2   52e5     MOVF      0xe5,0x1,0x0                                                                                    
0004d4   0900     IORLW     0x0                                                                                             
0004d6   e005     BZ        0x4e2                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0004d8   c100     MOVFF     0x100,0x61     		input_buffer_size=cdc_rx_len;                                                  C:\MCHPFSUSB\fw\Cdc\user\user.c
0004da   f061                                                                                                               
0004dc   0100     MOVLB     0x0            		input_buffer_pointer=0;                                                        C:\MCHPFSUSB\fw\Cdc\user\user.c
0004de   6b60     CLRF      0x60,0x1                                                                                        
0004e0   0c01     RETLW     0x1            		return 1;                                                                      C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	return 0;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0004e2   0c00     RETLW     0x0            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           char getnextbyte(void)                                                           C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	//if it's at the end of the buffer it needs to get a new one                    C:\MCHPFSUSB\fw\Cdc\user\user.c
0004e4   0100     MOVLB     0x0            	if(input_buffer_size<=input_buffer_pointer)                                     C:\MCHPFSUSB\fw\Cdc\user\user.c
0004e6   5160     MOVF      0x60,0x0,0x1                                                                                    
0004e8   80d8     BSF       0xd8,0x0,0x0                                                                                    
0004ea   5561     SUBFWB    0x61,0x0,0x1                                                                                    
0004ec   e306     BNC       0x4fa                                                                                           
                                           	{                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0004ee   dfe7     RCALL     0x4be          		if(!getnewbuffer()){return 0;}	//couldn't get a new char                       C:\MCHPFSUSB\fw\Cdc\user\user.c
0004f0   0900     IORLW     0x0                                                                                             
0004f2   e101     BNZ       0x4f6                                                                                           
0004f4   0c00     RETLW     0x0                                                                                             
0004f6   0100     MOVLB     0x0            		input_buffer_pointer=0;			//could, so reset pointer                            C:\MCHPFSUSB\fw\Cdc\user\user.c
0004f8   6b60     CLRF      0x60,0x1                                                                                        
                                           	}                                                                               C:\MCHPFSUSB\fw\Cdc\user\user.c
0004fa   5160     MOVF      0x60,0x0,0x1   	input_buffer_char=input_buffer[input_buffer_pointer];                           C:\MCHPFSUSB\fw\Cdc\user\user.c
0004fc   6aea     CLRF      0xea,0x0                                                                                        
0004fe   0f63     ADDLW     0x63                                                                                            
000500   6ee9     MOVWF     0xe9,0x0                                                                                        
000502   0e00     MOVLW     0x0                                                                                             
000504   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000506   cfef     MOVFF     0xfef,0x62                                                                                      
000508   f062                                                                                                               
00050a   2b60     INCF      0x60,0x1,0x1   	input_buffer_pointer++;                                                         C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           	return 1;                                                                       C:\MCHPFSUSB\fw\Cdc\user\user.c
00050c   0c01     RETLW     0x1            }                                                                                C:\MCHPFSUSB\fw\Cdc\user\user.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /** EOF user.c ***************************************************************/  C:\MCHPFSUSB\fw\Cdc\user\user.c
                                           /*********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *             Microchip USB C18 Firmware -  CDC Version 1.0                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *********************************************************************           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * FileName:        cdc.c                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Dependencies:    See INCLUDES section below                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Processor:       PIC18                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Compiler:        C18 2.30.01+                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Company:         Microchip Technology, Inc.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Software License Agreement                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * The software supplied herewith by Microchip Technology Incorporated           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * (the “Company”) for its PICmicro® Microcontroller is intended and             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * supplied to you, the Company’s customer, for use solely and                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * exclusively on Microchip PICmicro Microcontroller products. The               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * software is owned by the Company and/or its supplier, and is                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * protected under applicable copyright laws. All rights are reserved.           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Any use in violation of the foregoing restrictions may subject the            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * user to criminal sanctions under applicable laws, as well as to               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * civil liability for the breach of the terms and conditions of this            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * license.                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * THIS SOFTWARE IS PROVIDED IN AN “AS IS” CONDITION. NO WARRANTIES,             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * WHETHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * TO, IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PARTICULAR PURPOSE APPLY TO THIS SOFTWARE. THE COMPANY SHALL NOT,             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * IN ANY CIRCUMSTANCES, BE LIABLE FOR SPECIAL, INCIDENTAL OR                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * CONSEQUENTIAL DAMAGES, FOR ANY REASON WHATSOEVER.                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Author               Date        Comment                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Rawin Rojvanit       11/19/04    Original. RS-232 Emulation Subset            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            ********************************************************************/           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** I N C L U D E S **********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #include <p18f2550.h>                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #include "system\typedefs.h"                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #include "system\usb\usb.h"                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #ifdef USB_USE_CDC                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** V A R I A B L E S ********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #pragma udata                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           byte cdc_rx_len;            // total rx length                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           byte cdc_trf_state;         // States are defined cdc.h                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           POINTER pCDCSrc;            // Dedicated source pointer                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           POINTER pCDCDst;            // Dedicated destination pointer                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           byte cdc_tx_len;            // total tx length                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           byte cdc_mem_type;          // _ROM, _RAM                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           LINE_CODING line_coding;    // Buffer to store line coding information           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           CONTROL_SIGNAL_BITMAP control_signal_bitmap;                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /*                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * SEND_ENCAPSULATED_COMMAND and GET_ENCAPSULATED_RESPONSE are required          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * requests according to the CDC specification.                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * However, it is not really being used here, therefore a dummy buffer is        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * used for conformance.                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            */                                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #define dummy_length    0x08                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           byte dummy_encapsulated_cmd_response[dummy_length];                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** P R I V A T E  P R O T O T Y P E S ***************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** D E C L A R A T I O N S **************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #pragma code                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** C L A S S  S P E C I F I C  R E Q ****************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Function:        void USBCheckCDCRequest(void)                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Overview:        This routine checks the setup data packet to see if it       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  knows how to handle it                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           void USBCheckCDCRequest(void)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * If request recipient is not an interface then return                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00050e   0104     MOVLB     0x4                if(SetupPkt.Recipient != RCPT_INTF) return;                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000510   5120     MOVF      0x20,0x0,0x1                                                                                    
000512   0b1f     ANDLW     0x1f                                                                                            
000514   0801     SUBLW     0x1                                                                                             
000516   e001     BZ        0x51a                                                                                           
000518   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * If request type is not class-specific then return                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00051a   5120     MOVF      0x20,0x0,0x1       if(SetupPkt.RequestType != CLASS) return;                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00051c   0b60     ANDLW     0x60                                                                                            
00051e   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000520   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000522   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000524   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000526   42e8     RRNCF     0xe8,0x1,0x0                                                                                    
000528   0801     SUBLW     0x1                                                                                             
00052a   e001     BZ        0x52e                                                                                           
00052c   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Interface ID must match interface numbers associated with                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * CDC class, else return                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00052e   5124     MOVF      0x24,0x0,0x1       if((SetupPkt.bIntfID != CDC_COMM_INTF_ID)&&                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000530   e003     BZ        0x538                 (SetupPkt.bIntfID != CDC_DATA_INTF_ID)) return;                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000532   0524     DECF      0x24,0x0,0x1                                                                                    
000534   e001     BZ        0x538                                                                                           
000536   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000538   5121     MOVF      0x21,0x0,0x1       switch(SetupPkt.bRequest)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00053a   0a23     XORLW     0x23                                                                                            
00053c   e043     BZ        0x5c4                                                                                           
00053e   0a01     XORLW     0x1                                                                                             
000540   e03b     BZ        0x5b8                                                                                           
000542   0a03     XORLW     0x3                                                                                             
000544   e02b     BZ        0x59c                                                                                           
000546   0a01     XORLW     0x1                                                                                             
000548   e020     BZ        0x58a                                                                                           
00054a   0a24     XORLW     0x24                                                                                            
00054c   e03b     BZ        0x5c4                                                                                           
00054e   0a07     XORLW     0x7                                                                                             
000550   e039     BZ        0x5c4                                                                                           
000552   0a01     XORLW     0x1                                                                                             
000554   e037     BZ        0x5c4                                                                                           
000556   0a03     XORLW     0x3                                                                                             
000558   e010     BZ        0x57a                                                                                           
00055a   0a01     XORLW     0x1                                                                                             
00055c   e001     BZ        0x560                                                                                           
00055e   0012     RETURN    0x0                                                                                             
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case SEND_ENCAPSULATED_COMMAND:                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000560   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_CDC;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000562   0e03     MOVLW     0x3                                                                                             
000564   6f26     MOVWF     0x26,0x1                                                                                        
000566   0101     MOVLB     0x1                        pSrc.bRam = (byte*)&dummy_encapsulated_cmd_response;                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000568   0e13     MOVLW     0x13                                                                                            
00056a   6f27     MOVWF     0x27,0x1                                                                                        
00056c   0e01     MOVLW     0x1                                                                                             
00056e   6f28     MOVWF     0x28,0x1                                                                                        
000570   0100     MOVLB     0x0                        usb_stat.ctrl_trf_mem = _RAM;                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000572   93fb     BCF       0xfb,0x1,0x1                                                                                    
000574   0101     MOVLB     0x1                        LSB(wCount) = dummy_length;                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000576   0e08     MOVLW     0x8                                                                                             
000578   d01d     BRA       0x5b4                      break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case GET_ENCAPSULATED_RESPONSE:                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00057a   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_CDC;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00057c   0e03     MOVLW     0x3                                                                                             
00057e   6f26     MOVWF     0x26,0x1                                                                                        
                                                       // Populate dummy_encapsulated_cmd_response first.                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000580   0101     MOVLB     0x1                        pDst.bRam = (byte*)&dummy_encapsulated_cmd_response;                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000582   0e13     MOVLW     0x13                                                                                            
000584   6f29     MOVWF     0x29,0x1                                                                                        
000586   0e01     MOVLW     0x1                                                                                             
000588   d007     BRA       0x598                      break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case SET_COMM_FEATURE:                  // Optional                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case GET_COMM_FEATURE:                  // Optional                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case CLEAR_COMM_FEATURE:                // Optional                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case SET_LINE_CODING:                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00058a   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_CDC;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00058c   0e03     MOVLW     0x3                                                                                             
00058e   6f26     MOVWF     0x26,0x1                                                                                        
000590   0101     MOVLB     0x1                        pDst.bRam = (byte*)&line_coding;    // Set destination               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000592   0e08     MOVLW     0x8                                                                                             
000594   6f29     MOVWF     0x29,0x1                                                                                        
000596   0e01     MOVLW     0x1                                                                                             
000598   6f2a     MOVWF     0x2a,0x1                                                                                        
00059a   0012     RETURN    0x0                        break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case GET_LINE_CODING:                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00059c   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_CDC;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00059e   0e03     MOVLW     0x3                                                                                             
0005a0   6f26     MOVWF     0x26,0x1                                                                                        
0005a2   0101     MOVLB     0x1                        pSrc.bRam = (byte*)&line_coding;    // Set source                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005a4   0e08     MOVLW     0x8                                                                                             
0005a6   6f27     MOVWF     0x27,0x1                                                                                        
0005a8   0e01     MOVLW     0x1                                                                                             
0005aa   6f28     MOVWF     0x28,0x1                                                                                        
0005ac   0100     MOVLB     0x0                        usb_stat.ctrl_trf_mem = _RAM;       // Set memory type               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005ae   93fb     BCF       0xfb,0x1,0x1                                                                                    
0005b0   0101     MOVLB     0x1                        LSB(wCount) = LINE_CODING_LENGTH;   // Set data count                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005b2   0e07     MOVLW     0x7                                                                                             
0005b4   6f2b     MOVWF     0x2b,0x1                                                                                        
0005b6   0012     RETURN    0x0                        break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case SET_CONTROL_LINE_STATE:                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005b8   0101     MOVLB     0x1                        ctrl_trf_session_owner = MUID_CDC;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005ba   0e03     MOVLW     0x3                                                                                             
0005bc   6f26     MOVWF     0x26,0x1                                                                                        
0005be   c422     MOVFF     0x422,0x10f                control_signal_bitmap._byte = LSB(SetupPkt.W_Value);                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005c0   f10f                                                                                                               
0005c2   0012     RETURN    0x0                        break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   case SEND_BREAK:                        // Optional                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   default:                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       break;                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               }//end switch(SetupPkt.bRequest)                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005c4   0012     RETURN    0x0            }//end USBCheckCDCRequest                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** U S E R  A P I ***********************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Function:        void CDCInitEP(void)                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Overview:        CDCInitEP initializes CDC endpoints, buffer descriptors,     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  internal state-machine, and variables.                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  It should be called after the USB host has sent out a        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  SET_CONFIGURATION request.                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  See USBStdSetCfgHandler() in usb9.c for examples.            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           void CDCInitEP(void)                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               //Abstract line coding information                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005c6   0101     MOVLB     0x1                line_coding.dwDTERate._dword = 115200;      // baud rate                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005c8   6b08     CLRF      0x8,0x1                                                                                         
0005ca   0ec2     MOVLW     0xc2                                                                                            
0005cc   6f09     MOVWF     0x9,0x1                                                                                         
0005ce   0e01     MOVLW     0x1                                                                                             
0005d0   6f0a     MOVWF     0xa,0x1                                                                                         
0005d2   6b0b     CLRF      0xb,0x1                                                                                         
0005d4   6b0c     CLRF      0xc,0x1            line_coding.bCharFormat = 0x00;             // 1 stop bit                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005d6   6b0d     CLRF      0xd,0x1            line_coding.bParityType = 0x00;             // None                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005d8   0e08     MOVLW     0x8                line_coding.bDataBits = 0x08;               // 5,6,7,8, or 16                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005da   6f0e     MOVWF     0xe,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005dc   6b01     CLRF      0x1,0x1            cdc_trf_state = CDC_TX_READY;                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005de   6b00     CLRF      0x0,0x1            cdc_rx_len = 0;                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005e0   0e1a     MOVLW     0x1a               CDC_COMM_UEP = EP_IN|HSHK_EN;               // Enable 1 Comm pipe            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005e2   6e72     MOVWF     0x72,0x0                                                                                        
0005e4   0e1e     MOVLW     0x1e               CDC_DATA_UEP = EP_OUT_IN|HSHK_EN;           // Enable 2 data pipes           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005e6   6e73     MOVWF     0x73,0x0                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Do not have to init Cnt of IN pipes here.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Reason:  Number of bytes to send to the host                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          varies from one transaction to                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          another. Cnt should equal the exact                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          number of bytes to transmit for                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          a given IN transaction.                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          This number of bytes will only                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          be known right before the data is                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *          sent.                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005e8   0104     MOVLB     0x4                CDC_INT_BD_IN.ADR = (byte*)&cdc_notice;     // Set buffer address            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005ea   0e00     MOVLW     0x0                                                                                             
0005ec   6f16     MOVWF     0x16,0x1                                                                                        
0005ee   0e05     MOVLW     0x5                                                                                             
0005f0   6f17     MOVWF     0x17,0x1                                                                                        
0005f2   0e40     MOVLW     0x40               CDC_INT_BD_IN.Stat._byte = _UCPU|_DAT1;     // Set status                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005f4   6f14     MOVWF     0x14,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005f6   0104     MOVLB     0x4                CDC_BULK_BD_OUT.Cnt = sizeof(cdc_data_rx);  // Set buffer size               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005f8   6f19     MOVWF     0x19,0x1                                                                                        
0005fa   0e08     MOVLW     0x8                CDC_BULK_BD_OUT.ADR = (byte*)&cdc_data_rx;  // Set buffer address            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0005fc   6f1a     MOVWF     0x1a,0x1                                                                                        
0005fe   0e05     MOVLW     0x5                                                                                             
000600   6f1b     MOVWF     0x1b,0x1                                                                                        
000602   0e88     MOVLW     0x88               CDC_BULK_BD_OUT.Stat._byte = _USIE|_DAT0|_DTSEN;// Set status                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000604   6f18     MOVWF     0x18,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000606   0104     MOVLB     0x4                CDC_BULK_BD_IN.ADR = (byte*)&cdc_data_tx;   // Set buffer size               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000608   0e48     MOVLW     0x48                                                                                            
00060a   6f1e     MOVWF     0x1e,0x1                                                                                        
00060c   0e05     MOVLW     0x5                                                                                             
00060e   6f1f     MOVWF     0x1f,0x1                                                                                        
000610   0e40     MOVLW     0x40               CDC_BULK_BD_IN.Stat._byte = _UCPU|_DAT1;    // Set buffer address            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000612   6f1c     MOVWF     0x1c,0x1                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000614   0012     RETURN    0x0            }//end CDCInitEP                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Function:        byte getsUSBUSART(char *buffer,                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                    byte len)                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PreCondition:    Value of input argument 'len' should be smaller than the     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  maximum endpoint size responsible for receiving bulk         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  data from USB host for CDC class.                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  Input argument 'buffer' should point to a buffer area that   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  is bigger or equal to the size specified by 'len'.           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Input:           buffer  : Pointer to where received bytes are to be stored   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  len     : The number of bytes expected.                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Output:          The number of bytes copied to buffer.                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Side Effects:    Publicly accessible variable cdc_rx_len is updated with      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  the number of bytes copied to buffer.                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  Once getsUSBUSART is called, subsequent retrieval of         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  cdc_rx_len can be done by calling macro mCDCGetRxLength().   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Overview:        getsUSBUSART copies a string of bytes received through       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  USB CDC Bulk OUT endpoint to a user's specified location.    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  It is a non-blocking function. It does not wait              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  for data if there is no data available. Instead it returns   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  '0' to notify the caller that there is no data available.    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Note:            If the actual number of bytes received is larger than the    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  number of bytes expected (len), only the expected number     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  of bytes specified will be copied to buffer.                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  If the actual number of bytes received is smaller than the   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  number of bytes expected (len), only the actual number       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  of bytes received will be copied to buffer.                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000616   cfd9     MOVFF     0xfd9,0xfe6    byte getsUSBUSART(char *buffer, byte len)                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000618   ffe6                                                                                                               
00061a   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00061c   ffd9                                                                                                               
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00061e   0101     MOVLB     0x1                cdc_rx_len = 0;                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000620   6b00     CLRF      0x0,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000622   0104     MOVLB     0x4                if(!mCDCUsartRxIsBusy())                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000624   bf18     BTFSC     0x18,0x7,0x1                                                                                    
000626   d030     BRA       0x688                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * Adjust the expected number of bytes to equal                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * the actual number of bytes received.                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000628   0efc     MOVLW     0xfc                   if(len > CDC_BULK_BD_OUT.Cnt)                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00062a   cfdb     MOVFF     0xfdb,0x2                                                                                       
00062c   f002                                                                                                               
00062e   5119     MOVF      0x19,0x0,0x1                                                                                    
000630   80d8     BSF       0xd8,0x0,0x0                                                                                    
000632   5402     SUBFWB    0x2,0x0,0x0                                                                                     
000634   e203     BC        0x63c                                                                                           
000636   0efc     MOVLW     0xfc                       len = CDC_BULK_BD_OUT.Cnt;                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000638   c419     MOVFF     0x419,0xfdb                                                                                     
00063a   ffdb                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * Copy data from dual-ram buffer to user's buffer                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00063c   0101     MOVLB     0x1                    for(cdc_rx_len = 0; cdc_rx_len < len; cdc_rx_len++)                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00063e   6b00     CLRF      0x0,0x1                                                                                         
000640   0efc     MOVLW     0xfc                                                                                            
000642   50db     MOVF      0xdb,0x0,0x0                                                                                    
000644   5d00     SUBWF     0x0,0x0,0x1                                                                                     
000646   e219     BC        0x67a                                                                                           
000676   2b00     INCF      0x0,0x1,0x1                                                                                     
000678   d7e3     BRA       0x640                                                                                           
000648   5100     MOVF      0x0,0x0,0x1                buffer[cdc_rx_len] = cdc_data_rx[cdc_rx_len];                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00064a   6aea     CLRF      0xea,0x0                                                                                        
00064c   0f08     ADDLW     0x8                                                                                             
00064e   6ee9     MOVWF     0xe9,0x0                                                                                        
000650   0e05     MOVLW     0x5                                                                                             
000652   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000654   50ef     MOVF      0xef,0x0,0x0                                                                                    
000656   6ee6     MOVWF     0xe6,0x0                                                                                        
000658   5100     MOVF      0x0,0x0,0x1                                                                                     
00065a   6ee7     MOVWF     0xe7,0x0                                                                                        
00065c   0efd     MOVLW     0xfd                                                                                            
00065e   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
000660   ffe9                                                                                                               
000662   0efe     MOVLW     0xfe                                                                                            
000664   cfdb     MOVFF     0xfdb,0xfea                                                                                     
000666   ffea                                                                                                               
000668   50e7     MOVF      0xe7,0x0,0x0                                                                                    
00066a   26e9     ADDWF     0xe9,0x1,0x0                                                                                    
00066c   0e00     MOVLW     0x0                                                                                             
00066e   22ea     ADDWFC    0xea,0x1,0x0                                                                                    
000670   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000672   50e7     MOVF      0xe7,0x0,0x0                                                                                    
000674   6eef     MOVWF     0xef,0x0                                                                                        
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * Prepare dual-ram buffer for next OUT transaction                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00067a   0104     MOVLB     0x4                    CDC_BULK_BD_OUT.Cnt = sizeof(cdc_data_rx);                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00067c   0e40     MOVLW     0x40                                                                                            
00067e   6f19     MOVWF     0x19,0x1                                                                                        
000680   1718     ANDWF     0x18,0x1,0x1           mUSBBufferReady(CDC_BULK_BD_OUT);                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000682   7d18     BTG       0x18,0x6,0x1                                                                                    
000684   0e88     MOVLW     0x88                                                                                            
000686   1318     IORWF     0x18,0x1,0x1                                                                                    
                                               }//end if                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000688   0101     MOVLB     0x1                return cdc_rx_len;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00068a   5100     MOVF      0x0,0x0,0x1                                                                                     
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00068c   52e5     MOVF      0xe5,0x1,0x0   }//end getsUSBUSART                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00068e   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000690   ffd9                                                                                                               
000692   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Function:        void putsUSBUSART(char *data)                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PreCondition:    cdc_trf_state must be in the CDC_TX_READY state.             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  The string of characters pointed to by 'data' must equal     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  to or smaller than 255 bytes.                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Input:           data    : Pointer to a null-terminated string of data.       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                            If a null character is not found, 255 bytes        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                            of data will be transferred to the host.           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Overview:        putsUSBUSART writes a string of data to the USB including    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  the null character. Use this version, 'puts', to transfer    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  data located in data memory.                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Note:            The transfer mechanism for device-to-host(put) is more       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  flexible than host-to-device(get). It can handle             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  a string of data larger than the maximum size of bulk IN     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  endpoint. A state machine is used to transfer a long         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  string of data over multiple USB transactions.               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  See CDCTxService() for more details.                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000694   cfd9     MOVFF     0xfd9,0xfe6    void putsUSBUSART(char *data)                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000696   ffe6                                                                                                               
000698   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
00069a   ffd9                                                                                                               
00069c   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               byte len;                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * before calling this function.                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * to make sure it does not override any pending transactions.               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Currently it just quits the routine without reporting any errors back     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * to the user.                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Bottomline: User MUST make sure that mUSBUSARTIsTxTrfReady()==1           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *             before calling this function!                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Example:                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * if(mUSBUSARTIsTxTrfReady())                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *     putsUSBUSART(pData);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * while(!mUSBUSARTIsTxTrfReady())                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *     putsUSBUSART(pData);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * The whole firmware framework is written based on cooperative              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Use a state machine instead.                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00069e   0101     MOVLB     0x1                if(cdc_trf_state != CDC_TX_READY) return;                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006a0   5101     MOVF      0x1,0x0,0x1                                                                                     
0006a2   e12e     BNZ       0x700                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * While loop counts the number of bytes to send including the               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * null character.                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006a4   6adf     CLRF      0xdf,0x0           len = 0;                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               do                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006a6   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006a8   50df     MOVF      0xdf,0x0,0x0           if(len == 255) break;       // Break loop once max len is reached.       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006aa   6e02     MOVWF     0x2,0x0                                                                                         
0006ac   6a03     CLRF      0x3,0x0                                                                                         
0006ae   0eff     MOVLW     0xff                                                                                            
0006b0   1802     XORWF     0x2,0x0,0x0                                                                                     
0006b2   e102     BNZ       0x6b8                                                                                           
0006b4   5003     MOVF      0x3,0x0,0x0                                                                                     
0006b6   e00b     BZ        0x6ce                                                                                           
0006b8   0efd     MOVLW     0xfd               }while(*data++);                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006ba   cfdb     MOVFF     0xfdb,0xfe9                                                                                     
0006bc   ffe9                                                                                                               
0006be   2adb     INCF      0xdb,0x1,0x0                                                                                    
0006c0   0efe     MOVLW     0xfe                                                                                            
0006c2   cfdb     MOVFF     0xfdb,0xfea                                                                                     
0006c4   ffea                                                                                                               
0006c6   e301     BNC       0x6ca                                                                                           
0006c8   2adb     INCF      0xdb,0x1,0x0                                                                                    
0006ca   50ef     MOVF      0xef,0x0,0x0                                                                                    
0006cc   e1ec     BNZ       0x6a6                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Re-adjust pointer to its initial location                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006ce   50df     MOVF      0xdf,0x0,0x0       data-=len;                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006d0   6e02     MOVWF     0x2,0x0                                                                                         
0006d2   6a03     CLRF      0x3,0x0                                                                                         
0006d4   50d9     MOVF      0xd9,0x0,0x0                                                                                    
0006d6   0ffd     ADDLW     0xfd                                                                                            
0006d8   6ee9     MOVWF     0xe9,0x0                                                                                        
0006da   0eff     MOVLW     0xff                                                                                            
0006dc   20da     ADDWFC    0xda,0x0,0x0                                                                                    
0006de   6eea     MOVWF     0xea,0x0                                                                                        
0006e0   5002     MOVF      0x2,0x0,0x0                                                                                     
0006e2   5eee     SUBWF     0xee,0x1,0x0                                                                                    
0006e4   5003     MOVF      0x3,0x0,0x0                                                                                     
0006e6   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Second piece of information (length of data to send) is ready.            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Call mUSBUSARTTxRam to setup the transfer.                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * which should be called once per Main Program loop.                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006e8   0efd     MOVLW     0xfd               mUSBUSARTTxRam((byte*)data,len);     // See cdc.h                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0006ea   cfdb     MOVFF     0xfdb,0x102                                                                                     
0006ec   f102                                                                                                               
0006ee   0efe     MOVLW     0xfe                                                                                            
0006f0   cfdb     MOVFF     0xfdb,0x103                                                                                     
0006f2   f103                                                                                                               
0006f4   cfdf     MOVFF     0xfdf,0x106                                                                                     
0006f6   f106                                                                                                               
0006f8   0101     MOVLB     0x1                                                                                             
0006fa   6b07     CLRF      0x7,0x1                                                                                         
0006fc   0e01     MOVLW     0x1                                                                                             
0006fe   6f01     MOVWF     0x1,0x1                                                                                         
000700   52e5     MOVF      0xe5,0x1,0x0   }//end putsUSBUSART                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000702   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000704   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000706   ffd9                                                                                                               
000708   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Function:        void putrsUSBUSART(const rom char *data)                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PreCondition:    cdc_trf_state must be in the CDC_TX_READY state.             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  The string of characters pointed to by 'data' must equal     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  to or smaller than 255 bytes.                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Input:           data    : Pointer to a null-terminated string of data.       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                            If a null character is not found, 255 bytes        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                            of data will be transferred to the host.           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Overview:        putrsUSBUSART writes a string of data to the USB including   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  the null character. Use this version, 'putrs', to transfer   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  data literals and data located in program memory.            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Note:            The transfer mechanism for device-to-host(put) is more       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  flexible than host-to-device(get). It can handle             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  a string of data larger than the maximum size of bulk IN     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  endpoint. A state machine is used to transfer a long         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  string of data over multiple USB transactions.               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  See CDCTxService() for more details.                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00070a   cfd9     MOVFF     0xfd9,0xfe6    void putrsUSBUSART(const rom char *data)                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00070c   ffe6                                                                                                               
00070e   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000710   ffd9                                                                                                               
000712   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               byte len;                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * User should have checked that cdc_trf_state is in CDC_TX_READY state      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * before calling this function.                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * As a safety precaution, this fuction checks the state one more time       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * to make sure it does not override any pending transactions.               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Currently it just quits the routine without reporting any errors back     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * to the user.                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Bottomline: User MUST make sure that mUSBUSARTIsTxTrfReady()              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *             before calling this function!                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Example:                                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * if(mUSBUSARTIsTxTrfReady())                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *     putsUSBUSART(pData);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * IMPORTANT: Never use the following blocking while loop to wait:           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * while(cdc_trf_state != CDC_TX_READY)                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *     putsUSBUSART(pData);                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                *                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * The whole firmware framework is written based on cooperative              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * multi-tasking and a blocking code is not acceptable.                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Use a state machine instead.                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000714   0101     MOVLB     0x1                if(cdc_trf_state != CDC_TX_READY) return;                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000716   5101     MOVF      0x1,0x0,0x1                                                                                     
000718   e12f     BNZ       0x778                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * While loop counts the number of bytes to send including the               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * null character.                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00071a   6adf     CLRF      0xdf,0x0           len = 0;                                                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               do                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00071c   2adf     INCF      0xdf,0x1,0x0           len++;                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00071e   50df     MOVF      0xdf,0x0,0x0           if(len == 255) break;       // Break loop once max len is reached.       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000720   6e02     MOVWF     0x2,0x0                                                                                         
000722   6a03     CLRF      0x3,0x0                                                                                         
000724   0eff     MOVLW     0xff                                                                                            
000726   1802     XORWF     0x2,0x0,0x0                                                                                     
000728   e102     BNZ       0x72e                                                                                           
00072a   5003     MOVF      0x3,0x0,0x0                                                                                     
00072c   e00c     BZ        0x746                                                                                           
00072e   0efd     MOVLW     0xfd               }while(*data++);                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000730   cfdb     MOVFF     0xfdb,0xff6                                                                                     
000732   fff6                                                                                                               
000734   2adb     INCF      0xdb,0x1,0x0                                                                                    
000736   0efe     MOVLW     0xfe                                                                                            
000738   cfdb     MOVFF     0xfdb,0xff7                                                                                     
00073a   fff7                                                                                                               
00073c   e301     BNC       0x740                                                                                           
00073e   2adb     INCF      0xdb,0x1,0x0                                                                                    
000740   0008     TBLRD                                                                                                     
000742   50f5     MOVF      0xf5,0x0,0x0                                                                                    
000744   e1eb     BNZ       0x71c                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Re-adjust pointer to its initial location                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000746   50df     MOVF      0xdf,0x0,0x0       data-=len;                                                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000748   6e02     MOVWF     0x2,0x0                                                                                         
00074a   6a03     CLRF      0x3,0x0                                                                                         
00074c   50d9     MOVF      0xd9,0x0,0x0                                                                                    
00074e   0ffd     ADDLW     0xfd                                                                                            
000750   6ee9     MOVWF     0xe9,0x0                                                                                        
000752   0eff     MOVLW     0xff                                                                                            
000754   20da     ADDWFC    0xda,0x0,0x0                                                                                    
000756   6eea     MOVWF     0xea,0x0                                                                                        
000758   5002     MOVF      0x2,0x0,0x0                                                                                     
00075a   5eee     SUBWF     0xee,0x1,0x0                                                                                    
00075c   5003     MOVF      0x3,0x0,0x0                                                                                     
00075e   5aed     SUBWFB    0xed,0x1,0x0                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Second piece of information (length of data to send) is ready.            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Call mUSBUSARTTxRom to setup the transfer.                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * The actual transfer process will be handled by CDCTxService(),            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * which should be called once per Main Program loop.                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000760   0efd     MOVLW     0xfd               mUSBUSARTTxRom((rom byte*)data,len); // See cdc.h                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000762   cfdb     MOVFF     0xfdb,0x102                                                                                     
000764   f102                                                                                                               
000766   0efe     MOVLW     0xfe                                                                                            
000768   cfdb     MOVFF     0xfdb,0x103                                                                                     
00076a   f103                                                                                                               
00076c   cfdf     MOVFF     0xfdf,0x106                                                                                     
00076e   f106                                                                                                               
000770   0101     MOVLB     0x1                                                                                             
000772   0e01     MOVLW     0x1                                                                                             
000774   6f07     MOVWF     0x7,0x1                                                                                         
000776   6f01     MOVWF     0x1,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000778   52e5     MOVF      0xe5,0x1,0x0   }//end putrsUSBUSART                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00077a   52e5     MOVF      0xe5,0x1,0x0                                                                                    
00077c   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
00077e   ffd9                                                                                                               
000780   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /******************************************************************************  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Function:        void CDCTxService(void)                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * PreCondition:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Input:           None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Output:          None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Side Effects:    None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Overview:        CDCTxService handles device-to-host transaction(s).          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                  This function should be called once per Main Program loop.   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *                                                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            * Note:            None                                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                            *****************************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000782   cfd9     MOVFF     0xfd9,0xfe6    void CDCTxService(void)                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000784   ffe6                                                                                                               
000786   cfe1     MOVFF     0xfe1,0xfd9                                                                                     
000788   ffd9                                                                                                               
00078a   52e6     MOVF      0xe6,0x1,0x0                                                                                    
                                           {                                                                                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               byte byte_to_send;                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00078c   0104     MOVLB     0x4                if(mCDCUsartTxIsBusy()) return;                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00078e   bf1c     BTFSC     0x1c,0x7,0x1                                                                                    
000790   d066     BRA       0x85e                                                                                           
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Completing stage is necessary while [ mCDCUSartTxIsBusy()==1 ].           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * By having this stage, user can always check cdc_trf_state,                C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * and not having to call mCDCUsartTxIsBusy() directly.                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000792   0e03     MOVLW     0x3                if(cdc_trf_state == CDC_TX_COMPLETING)                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000794   0101     MOVLB     0x1                                                                                             
000796   5d01     SUBWF     0x1,0x0,0x1                                                                                     
000798   e101     BNZ       0x79c                                                                                           
00079a   6b01     CLRF      0x1,0x1                cdc_trf_state = CDC_TX_READY;                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * If CDC_TX_READY state, nothing to do, just return.                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00079c   5101     MOVF      0x1,0x0,0x1        if(cdc_trf_state == CDC_TX_READY) return;                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00079e   e05f     BZ        0x85e                                                                                           
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * If CDC_TX_BUSY_ZLP state, send zero length packet                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007a0   0e02     MOVLW     0x2                if(cdc_trf_state == CDC_TX_BUSY_ZLP)                                         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007a2   5d01     SUBWF     0x1,0x0,0x1                                                                                     
0007a4   e103     BNZ       0x7ac                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007a6   0104     MOVLB     0x4                    CDC_BULK_BD_IN.Cnt = 0;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007a8   6b1d     CLRF      0x1d,0x1                                                                                        
                                                   cdc_trf_state = CDC_TX_COMPLETING;                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               }                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007aa   d050     BRA       0x84c              else if(cdc_trf_state == CDC_TX_BUSY)                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007ac   0501     DECF      0x1,0x0,0x1                                                                                     
0007ae   e151     BNZ       0x852                                                                                           
                                               {                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * First, have to figure out how many byte of data to send.              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007b0   0e40     MOVLW     0x40               	if(cdc_tx_len > sizeof(cdc_data_tx))                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007b2   6e02     MOVWF     0x2,0x0                                                                                         
0007b4   6a03     CLRF      0x3,0x0                                                                                         
0007b6   5106     MOVF      0x6,0x0,0x1                                                                                     
0007b8   5c02     SUBWF     0x2,0x0,0x0                                                                                     
0007ba   0e00     MOVLW     0x0                                                                                             
0007bc   5803     SUBWFB    0x3,0x0,0x0                                                                                     
0007be   e203     BC        0x7c6                                                                                           
0007c0   0e40     MOVLW     0x40               	    byte_to_send = sizeof(cdc_data_tx);                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007c2   6edf     MOVWF     0xdf,0x0                                                                                        
0007c4   d002     BRA       0x7ca              	else                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007c6   c106     MOVFF     0x106,0xfdf        	    byte_to_send = cdc_tx_len;                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007c8   ffdf                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * Next, load the number of bytes to send to Cnt in buffer descriptor    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007ca   cfdf     MOVFF     0xfdf,0x41d            CDC_BULK_BD_IN.Cnt = byte_to_send;                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007cc   f41d                                                                                                               
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * Subtract the number of bytes just about to be sent from the total.    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007ce   50df     MOVF      0xdf,0x0,0x0       	cdc_tx_len = cdc_tx_len - byte_to_send;                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007d0   5d06     SUBWF     0x6,0x0,0x1                                                                                     
0007d2   6f06     MOVWF     0x6,0x1                                                                                         
                                               	                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007d4   0e48     MOVLW     0x48                   pCDCDst.bRam = (byte*)&cdc_data_tx; // Set destination pointer           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007d6   6f04     MOVWF     0x4,0x1                                                                                         
0007d8   0e05     MOVLW     0x5                                                                                             
0007da   6f05     MOVWF     0x5,0x1                                                                                         
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007dc   0507     DECF      0x7,0x0,0x1            if(cdc_mem_type == _ROM)            // Determine type of memory source   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007de   e114     BNZ       0x808                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007e0   50df     MOVF      0xdf,0x0,0x0               while(byte_to_send)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007e2   e025     BZ        0x82e                                                                                           
000806   d7ec     BRA       0x7e0                                                                                           
                                                       {                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007e4   c102     MOVFF     0x102,0xff6                    *pCDCDst.bRam = *pCDCSrc.bRom;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007e6   fff6                                                                                                               
0007e8   c103     MOVFF     0x103,0xff7                                                                                     
0007ea   fff7                                                                                                               
0007ec   0008     TBLRD                                                                                                     
0007ee   50f5     MOVF      0xf5,0x0,0x0                                                                                    
0007f0   c104     MOVFF     0x104,0xfe9                                                                                     
0007f2   ffe9                                                                                                               
0007f4   c105     MOVFF     0x105,0xfea                                                                                     
0007f6   ffea                                                                                                               
0007f8   6eef     MOVWF     0xef,0x0                                                                                        
0007fa   2b04     INCF      0x4,0x1,0x1                    pCDCDst.bRam++;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
0007fc   0e00     MOVLW     0x0                                                                                             
0007fe   2305     ADDWFC    0x5,0x1,0x1                                                                                     
000800   2b02     INCF      0x2,0x1,0x1                    pCDCSrc.bRom++;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000802   2303     ADDWFC    0x3,0x1,0x1                                                                                     
000804   06df     DECF      0xdf,0x1,0x0                   byte_to_send--;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       }//end while(byte_to_send)                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   }                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   else // _RAM                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000808   50df     MOVF      0xdf,0x0,0x0               while(byte_to_send)                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00080a   e011     BZ        0x82e                                                                                           
00082c   d7ed     BRA       0x808                                                                                           
                                                       {                                                                    C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00080c   c102     MOVFF     0x102,0xfe9                    *pCDCDst.bRam = *pCDCSrc.bRam;                                   C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00080e   ffe9                                                                                                               
000810   c103     MOVFF     0x103,0xfea                                                                                     
000812   ffea                                                                                                               
000814   50ef     MOVF      0xef,0x0,0x0                                                                                    
000816   c104     MOVFF     0x104,0xfe9                                                                                     
000818   ffe9                                                                                                               
00081a   c105     MOVFF     0x105,0xfea                                                                                     
00081c   ffea                                                                                                               
00081e   6eef     MOVWF     0xef,0x0                                                                                        
000820   2b04     INCF      0x4,0x1,0x1                    pCDCDst.bRam++;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000822   0e00     MOVLW     0x0                                                                                             
000824   2305     ADDWFC    0x5,0x1,0x1                                                                                     
000826   2b02     INCF      0x2,0x1,0x1                    pCDCSrc.bRam++;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000828   2303     ADDWFC    0x3,0x1,0x1                                                                                     
00082a   06df     DECF      0xdf,0x1,0x0                   byte_to_send--;                                                  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                       }//end while(byte_to_send._word)                                     C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   }//end if(cdc_mem_type...)                                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   /*                                                                       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * Lastly, determine if a zero length packet state is necessary.         C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    * See explanation in USB Specification 2.0: Section 5.8.3               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                    */                                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00082e   0101     MOVLB     0x1                    if(cdc_tx_len == 0)                                                      C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000830   5106     MOVF      0x6,0x0,0x1                                                                                     
000832   e10f     BNZ       0x852                                                                                           
                                                   {                                                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000834   0104     MOVLB     0x4                        if(CDC_BULK_BD_IN.Cnt == sizeof(cdc_data_tx))                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000836   511d     MOVF      0x1d,0x0,0x1                                                                                    
000838   6e02     MOVWF     0x2,0x0                                                                                         
00083a   6a03     CLRF      0x3,0x0                                                                                         
00083c   0e40     MOVLW     0x40                                                                                            
00083e   1802     XORWF     0x2,0x0,0x0                                                                                     
000840   e105     BNZ       0x84c                                                                                           
000842   5003     MOVF      0x3,0x0,0x0                                                                                     
000844   e103     BNZ       0x84c                                                                                           
000846   0101     MOVLB     0x1                            cdc_trf_state = CDC_TX_BUSY_ZLP;                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000848   0e02     MOVLW     0x2                                                                                             
00084a   d002     BRA       0x850                      else                                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00084c   0101     MOVLB     0x1                            cdc_trf_state = CDC_TX_COMPLETING;                               C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00084e   0e03     MOVLW     0x3                                                                                             
000850   6f01     MOVWF     0x1,0x1                                                                                         
                                                   }//end if(cdc_tx_len...)                                                 C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               }//end if(cdc_tx_sate == CDC_TX_BUSY)                                        C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                               /*                                                                           C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                * Both CDC_TX_BUSY and CDC_TX_BUSY_ZLP states use the following macro       C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                */                                                                          C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000852   0e40     MOVLW     0x40               mUSBBufferReady(CDC_BULK_BD_IN);                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000854   0104     MOVLB     0x4                                                                                             
000856   171c     ANDWF     0x1c,0x1,0x1                                                                                    
000858   7d1c     BTG       0x1c,0x6,0x1                                                                                    
00085a   0e88     MOVLW     0x88                                                                                            
00085c   131c     IORWF     0x1c,0x1,0x1                                                                                    
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
00085e   52e5     MOVF      0xe5,0x1,0x0   }//end CDCTxService                                                              C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
000860   52e5     MOVF      0xe5,0x1,0x0                                                                                    
000862   cfe7     MOVFF     0xfe7,0xfd9                                                                                     
000864   ffd9                                                                                                               
000866   0012     RETURN    0x0                                                                                             
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           #endif //USB_USE_CDC                                                             C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                                                                                            C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                           /** EOF cdc.c ****************************************************************/  C:\MCHPFSUSB\fw\Cdc\system\usb\class\cdc\cdc.c
                                                   LIST P=18F2550                                                           C:\MCC18\SRC\TRADIT~1\PROC\p18f2550.asm
                                                   LIST                                                                     C:\MCC18\SRC\TRADIT~1\PROC\p18f2550.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\PROC\p18f2550.asm
                                           ;	RCS Header $Id: cmath18.asm,v 1.4.12.1 2006/01/13 04:11:25 nairnj Exp $        C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;       CMATH18 DATA DEFINITION FILE                                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;   VARIABLE ALLOCATION - Core math library routines                             C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           ;******************************************************************************* C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           MATH_DATA      UDATA_ACS                                                         C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           SIGN		RES 1       ; save location for sign in MSB                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           __FPFLAGSbits                                                                    C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           __FPFLAGS		RES 1       ; floating point library exception flags                  C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                                                                                            C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   GLOBAL  SIGN, __FPFLAGS, __FPFLAGSbits                                   C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                           	                                                                                C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
                                                   END                                                                      C:\MCC18\SRC\TRADIT~1\MATH\cmath18.asm
